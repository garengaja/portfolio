"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6127],{6127:function(e,t,n){n.r(t),n.d(t,{ResizeUploader:function(){return k}});var r=n(74186),i=n(51731),o=n(65334),u=n(34796),a=n(96517),l=n(11163),c=n(60071),s=n(90177),f=n(51747),g=n(21399),d=n(41495),p=n(32892),m=n(23559),S=n(31400),v=n(82566),h=n(67294),z=function(){var e=(0,l.useRouter)(),t=(0,s.TL)(),n=(0,m.p)().toast,r=(0,l.useRouter)().query,i=(0,f.J)((function(){var n,r,i,u,a,l,s,f,m=null===(n=o[0])||void 0===n?void 0:n.task;if(m){var S=o[0];if(S.file){var v="device"===S.upload.type?S.file.src:null!==(r=null===(i=S.task)||void 0===i||null===(u=i.result)||void 0===u||null===(a=u.url)||void 0===a?void 0:a.toString())&&void 0!==r?r:S.file.src;t((0,c.QL)({src:v,height:0,width:0,initialHeight:0,initialWidth:0,originalHeight:0,originalWidth:0,containerWidth:0,containerHeight:0,ratio:1,title:S.file.file.name,ext:(0,d.Z)(S.file.file)})),t((0,g.mc)()),e.push("/".concat("en"===e.locale?"":"".concat(e.locale,"/")).concat(null===(l=p.Z["/resize/editor/:taskId"])||void 0===l||null===(s=l[null!==(f=e.locale)&&void 0!==f?f:"en"])||void 0===s?void 0:s.replace(":taskId",m.id)))}}}),(function(){(0,u.ga)("send",{hitType:"pageview",page:"/vp/image_resizer/image_loaded/",title:"Image Resizer Image Loaded"}),(0,a.S)("event","Image Loaded",{event_category:"Image Resizer",event_label:"Upload Page"})})),o=i.images,z=i.deleteImage,I=i.deleteAllImages,_=(0,v.V)("use-our-bulk-resize-tool-to-batch-resize-images");var k=(0,v.V)("corrupt-image-toast-test");return(0,h.useEffect)((function(){"true"===r.errorFromEditor&&n({closeable:!0,position:"top-right",status:"success",text:k,time:S.w})}),[r]),{deleteImage:z,deleteAllImages:I,filterFiles:function(e){var t;return e.length>1&&(t=e.length,n({closeable:!0,position:"top-right",status:"success",text:_,time:S.w}),t>10&&(0,a.S)("event","Select Image",{event_category:"Image Resizer",event_label:"Batch upload on single resizer"})),[e[0]]}}},I=n(85893),_=function(){var e=z(),t=e.deleteImage,n=e.deleteAllImages,i=e.filterFiles;return(0,I.jsx)(o.w,{deleteImage:t,deleteAllImages:n,maxUploads:1,analytics:{pageKey:"image_resizer",pageTitle:"Image Resizer"},htmlFileInputId:"file-input",skipImportAfterTaskCreate:!0,supportedExtensions:r.p.resizer,filterFiles:i})},k=function(){return(0,I.jsx)(i.m,{children:(0,I.jsx)(_,{})})}},12613:function(e,t,n){n.d(t,{El:function(){return r},lj:function(){return o}});var r=50,i=["added","creating_task","creating_task_failed","importing","importing_failed","task_created"],o=function(e){if(0===e.length)return!1;var t=!1;return e.forEach((function(e){i.includes(e.fileState.status)&&(t=!0)})),!t}},51747:function(e,t,n){n.d(t,{J:function(){return c}});var r=n(25617),i=n(40524),o=n(82793),u=n(90177),a=n(67294),l=n(12613),c=function(e,t){var n=(0,u.CG)(o.d,s).images,c=(0,r.I0)(),f=(0,a.useRef)(!1);return(0,a.useEffect)((function(){n.length>0&&!f.current&&(t&&t(),f.current=!0),n.length>0&&(0,l.lj)(n)&&(e(),setTimeout((function(){return c((0,i.mc)())}),2e3))}),[n]),(0,a.useEffect)((function(){return function(){c((0,i.mc)())}}),[]),{images:n,deleteImage:function(e){c((0,i.ao)(e.id))},deleteAllImages:function(){c((0,i.zC)())}}},s=function(e,t){if(e.images.length!==t.images.length)return!1;var n=!1;return e.images.forEach((function(e){var r=t.images.find((function(t){return t.id===e.id}));r?e.fileState.status!==r.fileState.status&&(n=!0):n=!0})),!n}},21399:function(e,t,n){n.d(t,{X3:function(){return i},eE:function(){return u},gn:function(){return o},mc:function(){return l},pB:function(){return a}});var r=n(93958).v.actions,i=r.setTask,o=r.setIsImporting,u=r.setProgress,a=r.setImportComplete,l=r.reset},60071:function(e,t,n){n.d(t,{Ay:function(){return O},B7:function(){return w},Bd:function(){return d},Bo:function(){return A},Bq:function(){return B},CT:function(){return v},Ij:function(){return W},OS:function(){return P},Oz:function(){return h},QL:function(){return i},Sl:function(){return U},Wn:function(){return D},XI:function(){return R},Xc:function(){return c},Y0:function(){return p},Ym:function(){return o},ZN:function(){return H},_O:function(){return I},dI:function(){return S},dS:function(){return z},eE:function(){return u},is:function(){return j},l5:function(){return k},lf:function(){return l},oM:function(){return x},or:function(){return f},pR:function(){return y},pU:function(){return T},pj:function(){return C},rW:function(){return b},sp:function(){return g},u4:function(){return a},vG:function(){return F},x_:function(){return E},yD:function(){return s},yI:function(){return m},zE:function(){return _},zO:function(){return L}});var r=n(48720).k.actions,i=r.setImage,o=r.imageSetRatio,u=r.resizeSetColor,a=r.resizeSetDPI,l=r.resizeSetDimensionType,c=r.resizeSetEditType,s=r.resizeSetHeight,f=r.resizeSetIsLocked,g=r.resizeSetPercentage,d=r.resizeSetSaveAs,p=r.resizeSetShouldFillColor,m=r.resizeSetTargetFileSize,S=r.resizeSetUnit,v=r.resizeSetWidth,h=r.resizeToggleDimension,z=(r.resizeSetOptimizationLevel,r.resizeSetFileUnit),I=r.resizeSetFillColorType,_=r.cropSetHeight,k=r.cropSetWidth,C=r.cropSetRatio,R=r.cropToggleCropOrientation,T=r.cropSetLeft,y=r.cropSetTop,E=r.cropSetCropBox,x=r.cropReset,A=r.cropHandleCropBoxChange,F=r.cropSetCustomRatioX,O=r.cropSetCustomRatioY,b=r.flipToggleHorizontal,B=r.flipToggleVertical,L=r.flipReset,j=(r.rotateSetStraighten,r.rotateSetRotation),w=r.rotateReset,H=r.rotateSetInitialData,W=(r.historyPop,r.historyPush,r.modalClose),P=r.modalOpen,U=(r.reset,r.resetSettings),D=(r.addOperation,r.deleteAllOperations)}}]);
//# sourceMappingURL=6127.7f6216627019f5d1.js.map