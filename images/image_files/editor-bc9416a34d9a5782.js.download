(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3464,3160,3541,525],{83235:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=function(){return null}},45056:function(e,t,n){"use strict";n.d(t,{k:function(){return d},v:function(){return c}});var r=n(11098),i=n(73935),a=n(96254),s=n(36154),o=n(57851),l=n(85893),c="0px -10px 30px rgba(0, 0, 0, 0.1)",d=function(e){var t=e.isOpen,n=e.children,d=e.onClose,u=e.interactiveBackground,f=void 0!==u&&u,p=e.lockBackground,h=void 0===p||p,m=e.titleBar,g=e.bottomSection,x=e.initialHeight,v=void 0===x?"45vh":x,b=e.minimumHeight,w=e.parentClassNames,j=e.contentParentClassNames,k=e.disableDrag,y=e.containerId,C=e.handleScroll,N=(0,a.G)(t,h,b,d),S=N.childRef,O=N.handleClose,I=N.handleTouchEnd,_=N.handleTouchMove,L=N.handleTouchStart,E=N.isMounted,Z=N.contentRef,T=N.bottomSectionRef,z=document.getElementById(r.UF);return t&&E&&z?(0,i.createPortal)((0,l.jsxs)("div",{className:(0,o.m)("text-black fixed grid inset-0 z-40 bg-gray-500 bg-opacity-10 lg:hidden ".concat(f&&"pointer-events-none"," overflow-hidden"),w),onClick:O,id:y,children:[(0,l.jsxs)("div",{className:(0,o.m)("relative overflow-y-auto bg-white dark:bg-darkSurface-100 mt-auto z-50 rounded-t-2xl pointer-events-auto h-full",j),style:{transform:"translateY(calc(100vh - ".concat(v,"))"),boxShadow:c},onClick:(0,s.U)(),ref:S,draggable:!0,children:[!k&&(0,l.jsxs)("div",{className:"sticky top-0 z-50 w-full flex flex-col items-center touch-none",onTouchStart:L,onTouchMove:_,onTouchEnd:I,children:[(0,l.jsx)("div",{className:"bg-irGray-400 dark:bg-darkSurface-600 mt-2",style:{width:"40px",height:"6px",borderRadius:"3px"}}),(0,l.jsx)("div",{className:"w-full",children:m})]}),k&&(0,l.jsx)("div",{className:"w-full",children:m}),(0,l.jsx)("div",{className:"overflow-y-auto h-full",onClick:(0,s.U)(),ref:Z,onScroll:C,children:n})]}),g&&(0,l.jsx)("div",{className:"fixed left-0 right-0 bottom-0 z-50 pointer-events-auto",ref:T,onClick:(0,s.U)(),children:g})]}),z):null}},96254:function(e,t,n){"use strict";n.d(t,{T:function(){return d},G:function(){return u}});var r=n(50029),i=n(87794),a=n.n(i),s=n(96267),o=n(561);function l(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var c=n(67294),d="SKIP_TOUCH_ID_BOTTOM_MODAL",u=function(e,t,n,i){var u=(0,c.useRef)(null),f=(0,c.useRef)(null),p=(0,c.useRef)(null),h=(0,c.useState)(!1),m=h[0],g=h[1],x=(0,c.useRef)(0);(0,o.v)("Escape",e,(function(){e&&(null===i||void 0===i||i())}));var v=function(){u.current&&(u.current.style.overflowY="hidden",document.body.style.overflowY="hidden",document.documentElement.style.margin="0",document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.margin="0",document.body.style.height="100%",document.body.style.overflow="hidden")},b=function(){return 100*(window.innerHeight-x.current)/window.innerHeight},w=function(e){return window.innerHeight*e/100};(0,c.useEffect)((function(){t&&(e?(document.body.scrollTop=document.documentElement.scrollTop=0,document.body.style.overflowY="hidden",v(),j()):document.body.style.overflowY="scroll")}),[e,t]);var j=function(){u.current&&(x.current=u.current.getBoundingClientRect().y)},k=function(e){var t,n;e.style.height="".concat(window.innerHeight-e.getBoundingClientRect().y-(null!==(t=null===(n=p.current)||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==t?t:0),"px")};(0,c.useEffect)((function(){g(!0)}),[]),(0,c.useEffect)((function(){e&&f.current&&k(f.current)}),[e,f.current]);var y=(0,c.useRef)(0),C=(0,c.useRef)(!1);function N(e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("INPUT"===t.target.tagName){e.next=3;break}return e.abrupt("return");case 3:if(C.current=!0,!(b()<y.current)){e.next=6;break}return e.abrupt("return");case 6:y.current=b(),u.current&&(u.current.style.transform="translateY(0vh)");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){if("INPUT"===e.target.tagName){var t=e.relatedTarget;t&&"INPUT"===t.tagName||(C.current=!1,u.current&&(u.current.style.transform="translateY(".concat(100-y.current,"vh)")),f.current&&k(f.current))}}(0,c.useEffect)((function(){var e,t;x.current=null!==(e=null===(t=u.current)||void 0===t?void 0:t.getBoundingClientRect().y)&&void 0!==e?e:0,I.current=window.innerHeight}),[u]);var I=(0,c.useRef)(0),_=(0,s.N)();function L(){_((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.current&&k(f.current),I.current=window.innerHeight;case 2:case"end":return e.stop()}}),e)}))))}return(0,c.useEffect)((function(){return window.addEventListener("resize",L),l()||(document.body.addEventListener("focusin",N),document.body.addEventListener("focusout",O)),function(){window.removeEventListener("resize",L),l()||(document.body.removeEventListener("focusin",N),document.body.removeEventListener("focusout",O))}}),[]),{handleClose:function(e){C.current||(e.stopPropagation(),i&&i())},isMounted:m,childRef:u,handleTouchEnd:function(e){var t;if((null===(t=document.getElementById(d))||void 0===t||!t.contains(e.target))&&u.current&&!C.current){u.current&&(u.current.style.overflowY="scroll"),document.documentElement.style.overflow="auto",document.body.style.overflow="auto";var r=b();if(u.current.style.transform="translateY(".concat(100-r,"vh)"),r<0)i&&i();else{if(r>95&&(u.current.style.transform="translateY(0vh)"),n)w(r)<n&&(u.current.style.transform="translateY(".concat(100-(n<25?25:n),"vh)"));else if(r<20)return u.current.style.transform="translateY(100vh)",void(i&&i());f.current&&k(f.current)}}},handleTouchMove:function(e){if(x.current=e.touches[0].clientY,e.stopPropagation(),u.current){var t=b();t<=100&&(u.current.style.transform="translateY(".concat(100-t,"vh)"))}},handleTouchStart:function(e){e.stopPropagation(),v()},contentRef:f,bottomSectionRef:p}}},18707:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(85893),i=function(e){var t=e.width,n=e.height,i=(e.fill,e.className),a=null!==t&&void 0!==t?t:27,s=null!==n&&void 0!==n?n:24;return(0,r.jsxs)("svg",{width:a,height:s,viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i||"fill-white",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.06521 2.1733C5.02075 2.23561 5.00932 2.3082 5.03126 2.37655C5.74696 4.61219 6.95598 8.82853 6.95598 12C6.95598 15.1715 5.74721 19.387 5.03151 21.6227C5.00957 21.691 5.02075 21.7644 5.06521 21.8267C5.10845 21.8873 5.16382 21.913 5.22285 21.913H21.2108C21.2702 21.913 21.3255 21.8872 21.3686 21.8268C21.4128 21.7648 21.4245 21.6922 21.4024 21.6232C20.6867 19.3876 19.4777 15.1715 19.4777 12C19.4777 8.82853 20.6865 4.61297 21.4022 2.37733C21.4241 2.30898 21.4129 2.23561 21.3685 2.1733C21.3252 2.11269 21.2699 2.08696 21.2108 2.08696H5.22285C5.16382 2.08696 5.10845 2.11269 5.06521 2.1733ZM3.04392 3.01362C2.5772 1.5579 3.64462 0 5.22285 0H21.2108C22.7893 0 23.8569 1.55845 23.3895 3.0144C22.6687 5.2662 21.5647 9.1944 21.5647 12C21.5647 14.8057 22.6688 18.7341 23.3896 20.9858C23.8568 22.4423 22.7892 24 21.2108 24H5.22285C3.64462 24 2.5772 22.4421 3.04392 20.9864C3.76474 18.7347 4.86902 14.8059 4.86902 12C4.86902 9.1942 3.76475 5.26534 3.04392 3.01362Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.417453 5.68696C0.878491 5.34118 1.53254 5.43461 1.87832 5.89565C2.47789 6.69507 2.81928 7.7953 3.01933 8.83555C3.2246 9.90299 3.30441 11.036 3.30441 12C3.30441 12.964 3.2246 14.097 3.01933 15.1645C2.81928 16.2047 2.47789 17.3049 1.87832 18.1043C1.53254 18.5654 0.878491 18.6588 0.417453 18.313C-0.043585 17.9673 -0.137021 17.3132 0.208757 16.8522C0.522235 16.4342 0.789538 15.7083 0.969924 14.7703C1.14508 13.8595 1.21745 12.8621 1.21745 12C1.21745 11.1379 1.14508 10.1405 0.969924 9.22967C0.789538 8.29166 0.522235 7.5658 0.208757 7.14783C-0.137021 6.68679 -0.043585 6.03273 0.417453 5.68696Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 6.82609C8.5218 6.24979 8.98898 5.78261 9.56528 5.78261H16.8696C17.4459 5.78261 17.9131 6.24979 17.9131 6.82609C17.9131 7.40238 17.4459 7.86956 16.8696 7.86956H9.56528C8.98898 7.86956 8.5218 7.40238 8.5218 6.82609Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 12C8.5218 11.4237 8.98898 10.9565 9.56528 10.9565H16.8696C17.4459 10.9565 17.9131 11.4237 17.9131 12C17.9131 12.5763 17.4459 13.0435 16.8696 13.0435H9.56528C8.98898 13.0435 8.5218 12.5763 8.5218 12Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 16.8696C8.5218 16.2933 8.98898 15.8261 9.56528 15.8261H12.0001C12.5764 15.8261 13.0435 16.2933 13.0435 16.8696C13.0435 17.4459 12.5764 17.913 12.0001 17.913H9.56528C8.98898 17.913 8.5218 17.4459 8.5218 16.8696Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.0175 5.68696C26.4785 6.03274 26.5719 6.68679 26.2261 7.14783C25.9127 7.5658 25.6454 8.29166 25.465 9.22967C25.2898 10.1405 25.2175 11.1379 25.2175 12C25.2175 13.704 25.5 15.3623 26.3247 17.0116C26.5824 17.5271 26.3735 18.1538 25.858 18.4116C25.3426 18.6693 24.7158 18.4604 24.4581 17.9449C23.4566 15.942 23.1305 13.9482 23.1305 12C23.1305 11.036 23.2103 9.90299 23.4156 8.83555C23.6156 7.7953 23.957 6.69507 24.5566 5.89565C24.9024 5.43461 25.5564 5.34118 26.0175 5.68696Z"})]})}},79733:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(57851),i=n(85893),a=function(e){var t=e.width,n=e.height,a=e.className,s=null!==t&&void 0!==t?t:20,o=null!==n&&void 0!==n?n:23;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:s,height:o,className:(0,r.m)("fill-irGray-300 dark:fill-white",a),children:[(0,i.jsx)("path",{d:"M480.6 341.4c-11.3 0-20.4 9.1-20.4 20.4v98.4H51.8v-98.4c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v118.8c0 11.3 9.1 20.4 20.4 20.4h449.2c11.3 0 20.4-9.1 20.4-20.4V361.8c0-11.3-9.1-20.4-20.4-20.4z"}),(0,i.jsx)("path",{d:"M241 365.6c11.5 11.6 25.6 5.2 29.9 0l117.3-126.2c7.7-8.3 7.2-21.2-1.1-28.9-8.3-7.7-21.2-7.2-28.8 1.1l-81.9 88.1V34.5c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v265.3l-81.9-88.1c-7.7-8.3-20.6-8.7-28.9-1.1-8.3 7.7-8.7 20.6-1.1 28.9L241 365.6z"})]})}},47094:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(57851),i=n(85893),a=function(e){var t=e.className;return(0,i.jsxs)("svg",{width:"55",height:"55",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.m)("fill-[var(--dark-gray)] dark:fill-white",t),children:[(0,i.jsx)("path",{d:"M44.9151 0.820312H11.0855C5.42482 0.820312 0.819824 5.42531 0.819824 11.0859V44.9156C0.819824 50.5762 5.42482 55.1803 11.0855 55.1803H44.9151C50.5748 55.1803 55.1798 50.5753 55.1798 44.9156V11.0859C55.1798 5.42531 50.5748 0.820312 44.9151 0.820312ZM11.0855 2.69531H44.9151C49.5417 2.69531 53.3048 6.45938 53.3048 11.0859V42.6525L46.3476 35.6953C45.4645 34.8113 44.2851 34.3237 43.027 34.3237C41.7698 34.3237 40.5905 34.8113 39.7073 35.6944L31.7939 43.5966L15.9998 27.8025C15.1167 26.9184 13.942 26.4319 12.6933 26.4319C11.4445 26.4319 10.2708 26.9194 9.3867 27.8025L2.69576 34.4934V11.0859C2.69482 6.45844 6.45795 2.69531 11.0855 2.69531ZM2.69482 44.9156V37.1447L10.7114 29.1281C11.7717 28.0678 13.6139 28.0688 14.6742 29.1281L38.8523 53.3053H11.0855C6.45795 53.3053 2.69482 49.5422 2.69482 44.9156ZM44.9151 53.3053H41.5026L33.1205 44.9231L41.033 37.0209C42.0942 35.9606 43.9626 35.9616 45.022 37.0209L53.2861 45.285C53.0911 49.7391 49.417 53.3053 44.9151 53.3053Z"}),(0,i.jsx)("path",{d:"M28.0137 20.7667C31.4177 20.7667 34.1861 17.9973 34.1861 14.5942C34.1861 11.1761 31.4177 8.39453 28.0137 8.39453C24.5955 8.39453 21.814 11.1752 21.814 14.5942C21.813 17.9973 24.5946 20.7667 28.0137 20.7667ZM28.0137 10.2686C30.3827 10.2686 32.3111 12.2083 32.3111 14.5933C32.3111 16.9633 30.3827 18.8908 28.0137 18.8908C25.6287 18.8908 23.689 16.9623 23.689 14.5933C23.688 12.2092 25.6287 10.2686 28.0137 10.2686Z"})]})}},28891:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(57851),i=n(85893),a=function(e){var t=e.width,n=e.height,a=e.className,s=null!==t&&void 0!==t?t:24,o=null!==n&&void 0!==n?n:24;return(0,i.jsxs)("svg",{width:s,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.m)("fill-black dark:fill-white",a),children:[(0,i.jsx)("path",{d:"M12.1476 10.7575C12.13 10.7351 12.1076 10.717 12.082 10.7045C12.0565 10.692 12.0284 10.6855 11.9999 10.6855C11.9715 10.6855 11.9434 10.692 11.9178 10.7045C11.8922 10.717 11.8698 10.7351 11.8523 10.7575L9.22728 14.0786C9.20564 14.1062 9.19221 14.1394 9.18853 14.1743C9.18485 14.2092 9.19107 14.2444 9.20647 14.276C9.22187 14.3075 9.24584 14.3341 9.27563 14.3527C9.30542 14.3712 9.33983 14.381 9.37493 14.3809H11.107V20.0622C11.107 20.1653 11.1913 20.2497 11.2945 20.2497H12.7007C12.8038 20.2497 12.8882 20.1653 12.8882 20.0622V14.3833H14.6249C14.7819 14.3833 14.8687 14.2028 14.7726 14.0809L12.1476 10.7575Z"}),(0,i.jsx)("path",{d:"M19.0172 8.59453C17.9438 5.76328 15.2086 3.75 12.0047 3.75C8.80078 3.75 6.06563 5.76094 4.99219 8.59219C2.98359 9.11953 1.5 10.95 1.5 13.125C1.5 15.7148 3.59766 17.8125 6.18516 17.8125H7.125C7.22813 17.8125 7.3125 17.7281 7.3125 17.625V16.2188C7.3125 16.1156 7.22813 16.0312 7.125 16.0312H6.18516C5.39531 16.0312 4.65234 15.7172 4.09922 15.1477C3.54844 14.5805 3.25547 13.8164 3.28125 13.0242C3.30234 12.4055 3.51328 11.8242 3.89531 11.3344C4.28672 10.8352 4.83516 10.4719 5.44453 10.3102L6.33281 10.0781L6.65859 9.22031C6.86016 8.68594 7.14141 8.18672 7.49531 7.73438C7.8447 7.28603 8.25857 6.89191 8.72344 6.56484C9.68672 5.8875 10.8211 5.52891 12.0047 5.52891C13.1883 5.52891 14.3227 5.8875 15.2859 6.56484C15.7523 6.89297 16.1648 7.28672 16.5141 7.73438C16.868 8.18672 17.1492 8.68828 17.3508 9.22031L17.6742 10.0758L18.5602 10.3102C19.8305 10.6523 20.7188 11.8078 20.7188 13.125C20.7188 13.9008 20.4164 14.632 19.868 15.1805C19.599 15.451 19.2791 15.6655 18.9266 15.8115C18.5742 15.9576 18.1963 16.0323 17.8148 16.0312H16.875C16.7719 16.0312 16.6875 16.1156 16.6875 16.2188V17.625C16.6875 17.7281 16.7719 17.8125 16.875 17.8125H17.8148C20.4023 17.8125 22.5 15.7148 22.5 13.125C22.5 10.9523 21.0211 9.12422 19.0172 8.59453Z"})]})}},45451:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(85893),i=function(e){var t=e.items,n=e.callback;return(0,r.jsx)(r.Fragment,{children:Object.keys(t).map((function(e,i){return(0,r.jsx)("div",{onClick:function(){return n&&n(e)},className:"overflow-hidden cursor-pointer whitespace-nowrap focus:bg-irBlue-100",tabIndex:0,onKeyDown:function(t){"Enter"===t.key&&n&&n(e)},children:t[e]},i)}))})}},19379:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(561),i=n(8881),a=n(67294),s=n(57851),o=n(85893),l=function(e){var t=e.isOpen,n=e.close,l=e.children,c=e.content,d=e.className,u=function(e,t){var n=(0,a.useRef)(null);return(0,i.t)(n,e,(function(){return t&&t()})),(0,r.v)("Escape",e,(function(){return t&&t()})),{parentRef:n}}(t,n),f=u.parentRef;return(0,o.jsxs)("div",{className:(0,s.m)("relative z-10",d),ref:f,children:[(0,o.jsx)("div",{className:"flex items-center justify-center",children:l}),t&&(0,o.jsx)("div",{children:c})]})}},12738:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(85893),i=function(){return(0,r.jsx)("div",{"data-aaad":"true","data-aa-adunit":"/275516369/ImageResizer_BottomLeaderboard"})}},40202:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(85893),i=function(){return(0,r.jsx)("div",{"data-aaad":"true","data-aa-adunit":"/275516369/ImageResizer_TopLeaderboard"})}},52823:function(e,t,n){"use strict";n.d(t,{H:function(){return f}});var r=n(59499),i=n(12738),a=n(40202),s=n(21797),o=n(83235),l=n(10131),c=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t,n=e.leftBar,r=e.controlBar,d=e.preview,f=e.bottomMenu,p=e.navbar,h=e.action,m=e.config,g=(0,s.K)(),x=g.width,v=g.bottomMenuRef,b=g.isLandscape;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"max-w-1440 ".concat(!(null!==m&&void 0!==m&&m.disableShadow)&&"page-shadow"," max-h-screen h-screen flex flex-col border-b border-b-irGray-200 dark:border-b-darkSurface-600"),children:[(0,c.jsx)("div",{className:"z-30 flex-grow-0 flex-shrink-0",children:p}),(0,c.jsxs)("div",{className:"flex flex-grow w-full h-full min-h-0 overflow-x-auto overflow-y-hidden",children:[(0,c.jsx)("div",{className:"hidden h-full text-black bg-white border-r lg:block border-r-irGray-200 dark:border-r-darkSurface-600 dark:bg-darkSurface-100 dark:text-white",style:u({minWidth:"250px",width:"360px",maxWidth:"360px"},null!==(t=null===m||void 0===m?void 0:m.leftBar)&&void 0!==t?t:{}),children:n}),(0,c.jsxs)("div",{className:"flex-grow flex flex-col h-full min-w-728-pc w-full min-h-0 max-h-full overflow-y-hidden gap-2.5 dark:bg-darkSurface-100",children:[h&&r&&(0,c.jsx)("div",{className:"sticky top-0 z-10 items-center hidden w-full bg-white lg:flex",children:(0,c.jsxs)("div",{className:"flex items-center justify-between w-full border-b border-b-irGray-200 dark:border-b-darkSurface-600",children:[(0,c.jsx)("div",{className:"w-full",children:r}),h.desktop&&(0,c.jsx)("div",{className:"mr-4",children:h.desktop})]})}),!(null!==m&&void 0!==m&&m.hideTopAd)&&!b&&!(null!==m&&void 0!==m&&m.showBanner)&&(0,c.jsxs)("div",{className:"py-[5px] border-b border-b-irGray-200 dark:border-b-darkSurface-600 relative",children:[(0,c.jsx)("div",{className:"flex-grow-0 flex-shrink-0 flex items-center justify-center mx-auto w-[320px] md:w-[728px] h-[50px] md:h-[90px]",children:(0,c.jsx)(a.e,{})}),(0,c.jsx)("div",{className:"absolute right-0 top-0 text-xs capitalize bg-irGray-200 dark:bg-darkSurface-300 dark:text-white py-0.5 px-1",children:(0,c.jsx)(l.vN,{keyName:"common:advertisement"})})]}),(null===m||void 0===m?void 0:m.showBanner)&&(0,c.jsx)("div",{className:"flex items-center justify-center py-4 mx-4 lg:py-2",children:(0,c.jsx)(o.J,{})}),(0,c.jsx)("div",{className:"z-20 flex-grow w-full min-h-0 scroll",children:d}),!(null!==m&&void 0!==m&&m.hideBottomAd)&&!b&&(0,c.jsxs)("div",{className:"py-[5px] border-t border-t-irGray-200 dark:border-t-darkSurface-600 relative",children:[(0,c.jsx)("div",{className:"flex-grow-0 flex-shrink-0 lg:flex items-center justify-center mx-auto w-[320px] md:w-[728px] h-[50px] md:h-[90px]",children:(0,c.jsx)(i.B,{})}),(0,c.jsx)("div",{className:"absolute right-0 top-0 text-xs capitalize bg-irGray-200 dark:bg-darkSurface-300 dark:text-white py-0.5 px-1",children:(0,c.jsx)(l.vN,{keyName:"common:advertisement"})})]}),x<1024&&(0,c.jsx)("div",{className:"flex-grow-0 flex-shrink-0 w-full",style:{minHeight:v.current?"".concat(v.current.getBoundingClientRect().height,"px"):"78px"}})]})]}),(0,c.jsx)("div",{className:"fixed inset-x-0 bottom-0 z-30 block lg:hidden",ref:v,children:f})]}),(0,c.jsx)("div",{id:"placeholder"})]})}},21797:function(e,t,n){"use strict";n.d(t,{K:function(){return l}});var r=n(46080),i=n(99158),a=n(11535),s=n(4748),o=n(67294),l=function(){var e=(0,i.i)().width,t=(0,o.useRef)(null),n=(0,r.e)(),l=(0,o.useState)(!1),c=l[0],d=l[1],u=function(){n((function(){d((function(e){var t=window.innerHeight<window.innerWidth;return!t&&e&&((0,s.b)(),(0,a.V)()),t}))}))};return(0,o.useEffect)((function(){if(!(e>768))return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[]),{width:e,bottomMenuRef:t,isLandscape:c}}},60525:function(e,t,n){"use strict";n.r(t),n.d(t,{EditorNavbar:function(){return u}});var r=n(90222),i=n(5152),a=n.n(i),s=n(36825),o=n(74680),l=n(32590),c=n(85893),d=a()((function(){return n.e(7490).then(n.bind(n,97490)).then((function(e){return e.Theme}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[97490]}}}),u=function(e){var t=e.actionButton,n=e.url,i=e.urlSlugVariables;return(0,c.jsxs)("div",{className:"flex min-w-0 border-b-slate-200 dark:border-b-darkSurface-600 border-b flex-row items-center h-16 px-4 md:px-8 py-4 dark:bg-darkSurface-100",children:[(0,c.jsx)("div",{className:"mx-4 lg:hidden",children:(0,c.jsx)(o.$,{isEditor:!0,url:n,urlSlugVariables:i})}),(0,c.jsx)(r.K,{isEditor:!0}),(0,c.jsx)("div",{className:"ml-auto lg:hidden",children:t}),(0,c.jsx)(s.a,{isEditor:!0}),(0,c.jsxs)("span",{className:"hidden lg:flex gap-6 items-center pl-4",children:[(0,c.jsx)(d,{}),(0,c.jsx)(l.eC,{url:n,urlSlugVariables:i,onlyIconMode:!0})]})]})}},95155:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r=["links","common"]},46080:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=null,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=function(t){r&&clearTimeout(r),r=setTimeout((function(){t()}),e)};return t}},56090:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(67294),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),{mounted:t}}},8881:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(11098),i=n(67294),a=function(e,t,n,a,s){var o=(0,i.useState)(!1),l=o[0],c=o[1],d=(0,i.useCallback)((function(t){e.current&&!e.current.contains(t.target)&&(a&&a.some((function(e){var n=document.getElementById(e);return!!n&&!!n.contains(t.target)}))||n())}),[n,a,e]),u=(0,i.useCallback)((function(t){var n;if(e.current&&!e.current.contains(t.target)&&(null===(n=document.getElementById(r.Se))||void 0===n||!n.contains(t.target)))null===a||void 0===a||a.some((function(e){var n=document.getElementById(e);return!!n&&!!n.contains(t.target)}))}),[n,a,e]),f=(0,i.useCallback)((function(){t&&!l&&setTimeout((function(){document.addEventListener("click",d),document.addEventListener("touchstart",u),c(!0)}),(null===s||void 0===s?void 0:s.delay)||0)}),[d,u,l,t]);(0,i.useEffect)((function(){f()}),[e,t,n,f])}},72010:function(e,t,n){"use strict";n.d(t,{q:function(){return x}});var r=n(50029),i=n(92777),a=n(82262),s=n(59499),o=n(87794),l=n.n(o),c=n(26758),d=null,u=null,f=null,p=!1,h=!1,m=[],g=[],x=function(){function e(t,n){var a=this;(0,i.Z)(this,e),(0,s.Z)(this,"handlePendingTasksSubscribe",(function(){m.forEach((function(e){a.subscribe(e.job)})),m=[]})),(0,s.Z)(this,"handleJobComplete",(function(e){g.forEach((function(t){t.job.id===e.id&&t.options.handleJobComplete(e)}))})),(0,s.Z)(this,"handleJobFailed",(function(e){g.forEach((function(t){t.job.id===e.id&&t.options.handleJobFail(e)}))})),(0,s.Z)(this,"handleReconnect",(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.forEach((function(e){return e.options.handleReconnect&&e.options.handleReconnect()})),a.removeOfflineLimitWatcher();case 2:case"end":return e.stop()}}),e)})))),(0,s.Z)(this,"handleDisconnect",(function(){u=new Date,a.setOfflineLimitWatcher(),g.forEach((function(e){return e.options.handleDisconnect&&e.options.handleDisconnect()}))})),g.push({job:t,options:n}),this.initSocket(t,n),this.setOfflineLimitWatcher(),this.addInternetEventListeners(),this.addCypressEventListener(t,n)}return(0,a.Z)(e,[{key:"initSocket",value:function(){var e=(0,r.Z)(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||h){e.next=3;break}return m.push({job:t,options:n}),e.abrupt("return");case 3:if(!d){e.next=6;break}return this.subscribe(t),e.abrupt("return");case 6:return p=!0,e.next=9,(0,c.h)();case 9:(d=e.sent).connected&&this.handleSocketConnect(d,t),d.on("connect",(function(){d&&r.handleSocketConnect(d,t)})),d.on("disconnect",this.handleDisconnect),d.on("reconnect",this.handleReconnect);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleSocketConnect",value:function(e,t){var n=this;p=!1,h=!0,this.subscribe(t),this.handlePendingTasksSubscribe(),null===e||void 0===e||e.on("job_failed",(function(e){n.handleJobFailed(e.job)})),null===e||void 0===e||e.on("job_started",(function(e){})),null===e||void 0===e||e.on("job_completed",(function(e){n.handleJobComplete(e.job)}))}},{key:"subscribe",value:function(e){var t;null===(t=d)||void 0===t||t.emit("subscribe","job.".concat(e.id))}},{key:"addInternetEventListeners",value:function(){window.addEventListener("online",this.handleReconnect),window.addEventListener("offline",this.handleDisconnect)}},{key:"addCypressEventListener",value:function(e,t){window.Cypress&&document.body.addEventListener("job_failed.".concat(e.id),(function(e){t.handleJobFail(e.job)}))}},{key:"setOfflineLimitWatcher",value:function(){var e=this;f||(f=setInterval((function(){u&&(new Date).getTime()-u.getTime()>=6e5&&(e.removeOfflineLimitWatcher(),g.forEach((function(e){return e.options.onOfflineLimitReach&&e.options.onOfflineLimitReach(e.job)})))}),1e3))}},{key:"removeOfflineLimitWatcher",value:function(){f&&clearInterval(f)}}]),e}()},2252:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=function(e,t){return function(e,t){var n,r,a;if(n=function(e,t){return 0===t?e:n(t,e%t)},!i(e)||!i(t))return"? : ?";if(e===t)return"1 : 1";+e<+t&&(r=e,e=t,t=r);return a=n(+e,+t),"undefined"===typeof r?e/a+" : "+t/a:t/a+" : "+e/a}(e,t)};function i(e){return/^[0-9]+$/.test(e)}var a=function(e,t,n,i,a){var s,o,l=t,c=l,d=e,u=r(e,l),f=null!==(s=Number(u.split(":")[0]))&&void 0!==s?s:1,p=null!==(o=Number(u.split(":")[1]))&&void 0!==o?o:1;return l>i&&(d=f/p*(c=i)),d>n&&(c=p/f*(d=n)),d>i&&a&&(c=p/f*(d=i)),c>n&&a&&(d=f/p*(c=d)),{width:d,height:c}}},4713:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=function(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}},8986:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=function(e,t,n){var r=document.createElement("a");r.href=e,r.download=t,n&&(r.target="_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},44221:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var r=n(59499),i=n(50029),a=n(87794),s=n.n(a),o=n(6006),l=n(16560);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=["heic","heif",".heic",".heif"],f=function(){var e=(0,i.Z)(s().mark((function e(t,r,a,c,f){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,p){o.Z.get(t,{onDownloadProgress:function(e){var t=0===r?r:Math.floor(e.loaded/r*100);a&&a(t,e.loaded)},headers:d({},null!==c&&void 0!==c?c:{}),responseType:"blob"}).then(function(){var r=(0,i.Z)(s().mark((function r(a){var o,c,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u.includes((0,l.v)(t))||f&&u.includes(f))){r.next=9;break}return r.next=3,n.e(4838).then(n.t.bind(n,1616,23));case 3:return o=r.sent.default,r.next=6,o({blob:a.data});case 6:return c=r.sent,e({src:URL.createObjectURL(Array.isArray(c)?c[0]:c)}),r.abrupt("return");case 9:(d=new FileReader).readAsDataURL(a.data),d.onload=function(){var t=(0,i.Z)(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.result){t.next=3;break}return t.abrupt("return");case 3:r instanceof ArrayBuffer?e({src:r.toString()}):"string"===typeof r&&e({src:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d.onerror=function(e){console.log("reader.onerror",e)};case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(t){console.log({error:t}),e({src:"",error:!0})}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},85518:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=function(e){var t,n,r;return null!==(t=e.result)&&void 0!==t&&null!==(n=t.url)&&void 0!==n&&n.toString()&&(null===(r=e.result.url.toString().split("/").at(-1))||void 0===r?void 0:r.split(".")[1])||""}},16560:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=function(e){try{var t=new URL(e);return t.pathname.split(".")[t.pathname.split(".").length-1]}catch(n){return""}}},19523:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=function(e,t){return new Promise((function(n,r){var i=new Image;i.src=e,t&&(i.crossOrigin="Anonymous"),i.onload=function(){n({image:i,width:i.width,height:i.height})},i.onerror=function(){console.log("image.onerror"),n({image:i,width:0,height:0,error:!0})}}))}},36154:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var r=function(e){return function(t){t.stopPropagation(),null===e||void 0===e||e(t)}}},65582:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return an},default:function(){return sn}});var r=n(27812),i=n(52823),a=n(60525),s=n(19379),o=n(45056),l=n(74186),c=n(7706),d=n(45451),u=n(53882),f=n(11679),p=n(77435),h=n(56067),m=n(11899),g=n(59499),x=n(50029),v=n(87794),b=n.n(v),w=n(24713),j=n(67992),k=n(65392),y=n(33284),C=n(56726),N=n(41495),S=n(27840),O=n(62926),I=n(31400),_=n(23559),L=n(12613),E=n(74562),Z=n(59958),T=n(87829),z=n(64663),B=n(90177),R=n(92777),D=n(82262),P=n(31458),M=n(72010),F=function(){function e(t,n,r){var i=this;(0,R.Z)(this,e),(0,g.Z)(this,"image",void 0),(0,g.Z)(this,"job",void 0),(0,g.Z)(this,"options",void 0),(0,g.Z)(this,"isComplete",!1),(0,g.Z)(this,"handleDisconnect",(function(){i.options.handleDisconnect()})),(0,g.Z)(this,"handleReconnect",(function(){i.options.handleReconnect()})),(0,g.Z)(this,"handleJobComplete",function(){var e=(0,x.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isComplete){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.checkStatus();case 4:i.isComplete=!0;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)(this,"handleJobFail",(function(e){i.options.handleJobFail(i.image,e)})),(0,g.Z)(this,"onOfflineLimitReach",(function(e){i.options.onOfflineLimitReach(i.image,e)})),this.image=t,this.job=n,this.options=r}return(0,D.Z)(e,[{key:"startJob",value:function(){var e=(0,x.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initSocket();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSocket",value:function(){var e=(0,x.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return new M.q(this.job,{handleDisconnect:this.handleDisconnect,handleReconnect:this.handleReconnect,handleJobComplete:this.handleJobComplete,handleJobFail:this.handleJobFail,onOfflineLimitReach:this.onOfflineLimitReach}),e.next=3,this.checkStatus();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkStatus",value:function(){var e=(0,x.Z)(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComplete){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,P.U)("/api/jobs/".concat(this.job.id));case 4:if(!(r=e.sent).error){e.next=7;break}return e.abrupt("return");case 7:"completed"===(null===(t=r.result)||void 0===t?void 0:t.status)&&this.options.handleJobComplete(this.image,r.result),"failed"===(null===(n=r.result)||void 0===n?void 0:n.status)&&this.options.handleJobFail(this.image,r.result);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),G=n(67294),A=n(94662),V=n(78090),H=function(){var e=(0,B.TL)(),t=(0,G.useRef)(0),n=function(){var t=(0,x.Z)(b().mark((function t(n,a,s){var o,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,V.k)({image:n,importTask:a,settings:s}));case 2:o=t.sent,l=o.payload,"rejected"===o.meta.requestStatus?setTimeout((function(){r(n,a,s)}),5e3):"fulfilled"===o.meta.requestStatus&&o.payload&&i(n,l.result,s);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),r=function(){var n=(0,x.Z)(b().mark((function n(a,s,o){var l,c;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.current>=A.g)){n.next=3;break}return e((0,E.ao)(a.id)),n.abrupt("return");case 3:return t.current++,n.next=6,e((0,V.k)({image:a,importTask:s,settings:o}));case 6:l=n.sent,c=l.payload,"fulfilled"===l.meta.requestStatus&&l.payload?i(a,c.result,o):setTimeout((function(){return r(a,s,o)}),5e3);case 9:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),i=function(){var t=(0,x.Z)(b().mark((function t(n,r,i){var s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new F(n,r,{handleDisconnect:function(){},handleReconnect:function(){},handleJobComplete:function(e,t){return a(e,t,i)},handleJobFail:function(t){e((0,E.sT)({imageId:t.id,error:{message:"compression failed",state:"compressing"}}))},onOfflineLimitReach:function(){}}),t.next=3,s.startJob();case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),a=function(t,n,r){e((0,E.dD)({image:t,job:n,settings:r}))};return{compressImage:n}},U=n(26758),J=n(93127),q=n(82566),K=n(18816),Y=n(72125);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=null,$=[],ee=l.p.compressor,te=function(e){var t=(0,y.O)(),n=t.isOpen,r=t.toggle,i=t.onClose,a=(0,B.TL)(),s=(0,_.p)(),o=s.toast,l=s.removeBatch,c=H().compressImage,d=(0,B.CG)(Z._,ne).images;$=d;var u=function(e,t){},f=function(e,t){var n,r,i;a((0,E.Cs)({imageId:t.image.id,src:(0,J.Z)("device"===t.uploadType?t.image.src:null!==(n=null===(r=e.result)||void 0===r||null===(i=r.url)||void 0===i?void 0:i.toString())&&void 0!==n?n:""),importTask:e})),c(t.image,e,(0,K.F)((0,N.Z)(t.image.file.file),B.h.getState().compress.compressionSettings)),G()},p=function(e,t){a((0,E.sT)({imageId:t.image.id,error:{state:"importing"}})),G()},h=function(e){},m="".concat((0,q.V)("you-are-offline")," ").concat((0,q.V)("trying-to-reconnect")),g=function(){o({closeable:!0,position:"top-right",status:"error",batch:"disconnect",text:m})},v=(0,q.V)("online-again-toast"),R=function(){o({closeable:!0,position:"top-right",status:"success",batch:"reconnect",text:v,time:I.w}),l("disconnect")},D=(0,w.U)({onStart:u,onComplete:f,onFailure:p,onOfflineLimitReach:h,onProgress:function(e,t,n,r){a((0,E.eE)({imageId:r.image.id,progress:t}))},onDisconnect:g,onReconnect:R}).handleDeviceImport,P=(0,j.g)({onStart:u,onComplete:f,onFailure:p,onOfflineLimitReach:h,onDisconnect:g,onReconnect:R}).handleExternalImport,M=(0,Y.s)((function(e){a((0,E.IW)({imageId:e.id,imageState:"importing"})),te(e,e.file,e.uploadType,e.settings,z.A,ae)}),(function(){return B.h.getState().compress.images.filter((function(e){return"importing"===e.state}))}),(function(){return B.h.getState().compress.images.filter((function(e){return"added"===e.state}))}),!1),F=M.handleBatchedSingleFile,G=M.proceedNextImports,A=function(){var t=(0,x.Z)(b().mark((function t(n,r,a){var s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n[0]&&V(n)){t.next=3;break}return W(),t.abrupt("return");case 3:if(null===(s=X)||void 0===s){t.next=7;break}t.t0=s,t.next=10;break;case 7:return t.next=9,(0,U.h)();case 9:t.t0=t.sent;case 10:X=t.t0,i(),e&&e(),n.forEach(function(){var e=(0,x.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(re(t,r,a),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 14:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),V=function(e){return!(e.length>L.El-$.length)},W=function(){o({closeable:!0,position:"top-right",status:"error",batch:"max-upload-limit",text:"Max Upload Limit is ".concat(L.El," images at a time."),time:I.w})},te=(0,O.x)().handleCreateImportTask,re=function(e,t,n){var r,i=e.file,s=e.src,o=(0,N.Z)(i),l=B.h.getState().compress.compressionSettings,c={id:(0,S.w)(),src:s,createdAt:new Date,original:{width:300,height:300,size:(0,C.t)(i.size)},preview:{width:300,height:300,size:(0,C.t)(i.size)},quality:T.K,title:null!==(r=i.name)&&void 0!==r?r:"",format:(0,N.Z)(i),sliderValue:50,importTask:null,state:"added",hasExpired:!1,file:e,uploadType:t,settings:n,importing:{progress:"continuous"},compressionSettings:{type:l.type,maxFileSize:"png"===o?{value:0}:l.maxFileSize,quality:"png"===o?l.quality:{value:T.K}}};return a((0,E.mN)(c)),c},ie=(0,k.F)(A,{allowMultiple:!0,supportedExtensions:ee},"compressor-editor-input").handleClick,ae=function(){var e=(0,x.Z)(b().mark((function e(t,n,r,i){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,E.C)({imageId:t.id,importTask:n})),"device"===i?D(r,n,{image:Q(Q({},t),{},{importTask:n}),uploadType:i}):P(n,{image:Q(Q({},t),{},{importTask:n}),uploadType:i});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();return{isOpen:n,toggle:r,onClose:i,handleFile:A,handleDeviceUploadClick:ie}},ne=function(e,t){return e.images.length===t.images.length},re=n(85893),ie=l.p.compressor,ae=function(e){var t=e.handleClose,n=e.isOpen,r=te(t).handleFile,i=(0,c.e)(r,{allowMultiple:!0,supportedExtensions:ie},n),a=i.handleClick,s=i.accessError,o=i.setAccessError,l=i.isLoading;return(0,re.jsxs)("div",{className:"relative flex flex-col gap-3 py-2 font-xl",children:[(0,re.jsx)(p.z,{isOpen:s,close:function(){return o(!1)},handleRetry:a}),(0,re.jsx)(d.a,{items:{from_device:(0,re.jsx)(u.X,{handleFile:r,options:{allowMultiple:!0,supportedExtensions:ie},htmlFileInputId:"compressor-mobile-file-input"}),dropbox:(0,re.jsx)(f.M,{handleFile:r,options:{allowMultiple:!0,supportedExtensions:ie},isOpen:n}),google_drive:(0,re.jsx)(h.o,{options:{allowMultiple:!0,onClick:function(){return a()},supportedExtensions:ie},isLoading:l}),url_upload:(0,re.jsx)(m.n,{handleFile:r,options:{supportedExtensions:ie}})}})]})},se=n(10131),oe=n(25617),le=function(e){var t=e.handleClose,n=function(){var e=(0,oe.I0)();return{handleDelete:function(){return e((0,E.zC)())}}}().handleDelete;return(0,re.jsxs)("div",{className:"flex flex-col items-center py-4",onClick:function(e){return e.stopPropagation()},children:[(0,re.jsxs)("div",{className:"text-center capitalize text-2xl mb-8",children:[(0,re.jsx)(se.vN,{keyName:"delete-all-images"}),"?"]}),(0,re.jsx)("div",{className:"w-full text-xl bg-irRed-400 text-white py-2 text-center capitalize rounded-xl mb-4 font-semibold","data-testid":"compressor-delete-all-yes",onClick:function(){n(),t()},children:(0,re.jsx)(se.vN,{keyName:"yes"})}),(0,re.jsx)("div",{className:"w-full text-xl bg-irGray-200 dark:bg-darkSurface-400 py-2 text-center capitalize rounded-xl mb-4","data-testid":"compressor-delete-all-no",onClick:t,children:(0,re.jsx)(se.vN,{keyName:"no"})})]})},ce=function(){var e=(0,B.CG)(Z._,de).sort,t=(0,B.TL)(),n=(0,y.O)(),r=n.isOpen,i=n.toggle,a=n.onClose;return{isOpen:r,toggle:i,close:a,handleClick:function(e){a(),t((0,E.HD)(e))},sort:e}},de=function(e,t){return e.sort===t.sort},ue=n(21780),fe=function(){var e=ce(),t=e.handleClick,n=e.sort;return(0,re.jsxs)("div",{className:"flex flex-col gap-3 text-xl",children:[(0,re.jsx)("div",{className:"px-6 py-2 font-semibold border-b border-b-irGray-400 dark:border-b-none",children:(0,re.jsx)(se.vN,{keyName:"mobile-sort-title"})}),(0,re.jsx)(d.a,{callback:t,items:(0,ue.o)(n)})]})},pe=function(e){var t=e.activeType,n=e.closePopup;return(0,re.jsxs)("div",{className:"absolute left-0 right-0 flex flex-col gap-2 mb-2 overflow-hidden text-black bg-white border dark:bg-darkSurface-200 dark:text-white bottom-full rounded-xl border-irGray-400 dark:border-darkSurface-600",onClick:n,style:{boxShadow:o.v},children:["add"===t&&(0,re.jsx)(ae,{handleClose:n,isOpen:"add"===t}),"delete"===t&&(0,re.jsx)("div",{className:"px-4 py-2",children:(0,re.jsx)(le,{handleClose:n})}),"sort"===t&&(0,re.jsx)(fe,{})]})},he=n(95688),me=n(94321),ge=n(22530),xe=n(79733),ve=n(38813),be=n(85456),we=n(18864),je=(0,D.Z)((function e(t,n){var r=this;(0,R.Z)(this,e),(0,g.Z)(this,"taskIds",void 0),(0,g.Z)(this,"options",void 0),(0,g.Z)(this,"isComplete",!1),(0,g.Z)(this,"createTask",(0,x.Z)(b().mark((function e(){var t,n,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.v)("/api/tasks/export",{input:r.taskIds,archive_multiple_files:!0,filename:r.options.filename});case 2:if(t=e.sent,n=t.error,i=t.result,!n&&i){e.next=8;break}return r.handleError(null!==(a=null===n||void 0===n?void 0:n.message)&&void 0!==a?a:""),e.abrupt("return");case 8:return e.next=10,r.subscribeToTaskService(i);case 10:r.checkStatus(i);case 11:case"end":return e.stop()}}),e)})))),(0,g.Z)(this,"handleError",(function(e){r.options.onError(e)})),(0,g.Z)(this,"subscribeToTaskService",function(){var e=(0,x.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new we.M(t,{handleDisconnect:function(){},handleReconnect:function(){},handleTaskComplete:r.handleTaskComplete,handleTaskFail:function(e){r.handleError(e.message)},onOfflineLimitReach:function(){}}),e.next=3,n.appendTask();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,g.Z)(this,"handleTaskComplete",(function(e){var t;r.isComplete||(r.isComplete=!0,null!==(t=e.result)&&void 0!==t&&t.url&&(e.result.url=new URL((0,J.Z)(e.result.url.toString()))),r.options.onComplete(e))})),(0,g.Z)(this,"checkStatus",function(){var e=(0,x.Z)(b().mark((function e(t){var n,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.U)("/api/tasks/".concat(t.id));case 2:if(n=e.sent,i=n.error,a=n.result,!i&&a){e.next=7;break}return e.abrupt("return");case 7:return"completed"===a.status&&r.handleTaskComplete(a),e.abrupt("return","completed"===a.status);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.taskIds=t,this.options=n,this.createTask()})),ke=n(34796),ye=n(96517),Ce=n(8986),Ne=function(e){return e.filter((function(e){return"compressed"===e.state}))},Se=n(44221),Oe=n(15062),Ie=function(){var e=(0,B.CG)(Z._),t=e.images,n=e.downloadButtonState,r="exporting"===n.state,i="downloading"===n.state,a=n.progress,s=(0,B.TL)(),o=!r&&!i&&Ne(t).length>0&&0===function(e){return e.filter((function(e){return!e.error&&"compressed"!==e.state}))}(t).length,l=function(e){var t,n;return(0,Ce.f)((0,J.Z)(null!==(t=null===(n=e.compressed)||void 0===n?void 0:n.src)&&void 0!==t?t:""),e.title,!0)},c=function(e){var t=(e.flatMap((function(e){var t;return null===(t=e.compressed)||void 0===t?void 0:t.job}))||[]).flatMap((function(e){return null===e||void 0===e?void 0:e.tasks})).filter((function(e){return!!e&&"exportTask"===(null===e||void 0===e?void 0:e.name)})).map((function(e){return null===e||void 0===e?void 0:e.id}));s((0,E.ks)({state:"exporting"})),new je(t,{onComplete:function(){var t=(0,x.Z)(b().mark((function t(n){var r,i,a,o,l,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null!==(r=null===(i=n.result)||void 0===i||null===(a=i.url)||void 0===a?void 0:a.toString())&&void 0!==r?r:"",s((0,E.ks)({state:"downloading",progress:0})),t.next=4,(0,Se.G)(o,d(e),(function(e){s((0,E.ks)({state:"downloading",progress:e}))}));case 4:l=t.sent,c=l.src,(0,Ce.f)(c,"compressed-images.zip"),s((0,E.ks)({state:"active",progress:void 0}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){s((0,E.ks)({state:"active",progress:void 0}))},filename:"compressed-images.zip"})},d=function(e){return e.reduce((function(t,n,r){var i,a;return t+(0,Oe.B)(null!==(i=null===(a=e[r].compressed)||void 0===a?void 0:a.size)&&void 0!==i?i:"0 KB")}),0)};return{images:t,handleDownloadAll:function(){if(o){var e=Ne(t);0!==e.length&&((0,ke.ga)("send",{hitType:"pageview",page:"/vp/image_compressor/export_started/",title:"Image Compressor Export Started"}),(0,ye.S)("event","Export Started",{event_category:"Image Compressor",event_label:"Editor Page"}),1===e.length?l(e[0]):c(e))}},isActive:o,isExporting:r,isDownloading:i,downloadProgress:a}},_e=function(){var e=Ie(),t=e.handleDownloadAll,n=e.isDownloading,r=e.isExporting;return(0,re.jsxs)("div",{className:"flex items-center justify-center gap-4 flex-grow text-white font-semibold sm:text-xl border-r border-r-irBlue-400 py-4",onClick:t,children:[(0,re.jsx)("div",{className:"",children:n||r?(0,re.jsx)(ve.a,{className:"stroke-white",width:20,height:20}):(0,re.jsx)(xe._,{})}),(0,re.jsx)("div",{className:"capitalize",children:(0,re.jsx)(se.vN,{keyName:"common:download-all"})})]})},Le=function(e){var t=e.openPopup,n=(0,B.CG)((function(e){return e.compress.downloadButtonState})),r="active"===n.state;return(0,re.jsxs)("div",{className:"bg-irBlue-200 dark:bg-darkPrimary-100 rounded-xl flex items-center w-full",children:[(0,re.jsx)("div",{className:"flex items-center justify-center py-4 px-4 border-r border-r-irBlue-400",onClick:function(e){r&&(e.stopPropagation(),t("add"))},children:(0,re.jsx)(he.d,{className:"fill-white"})}),(0,re.jsx)("div",{className:"flex items-center justify-center py-4 px-4 border-r border-r-irBlue-400",onClick:function(e){r&&(e.stopPropagation(),t("delete"))},children:(0,re.jsx)(me.p,{className:"fill-white"})}),(0,re.jsx)(_e,{}),(0,re.jsx)("div",{className:"px-4",onClick:function(e){e.stopPropagation(),t("sort")},children:(0,re.jsx)(ge.f,{className:"fill-white"})})]})},Ee=function(){var e=function(){var e=(0,G.useState)(null),t=e[0],n=e[1],r=function(){return n(null)};return{isPopupOpen:!!t,openPopup:function(e){t!==e?n(e):r()},closePopup:r,activeType:t}}(),t=e.isPopupOpen,n=e.openPopup,r=e.closePopup,i=e.activeType;return(0,re.jsx)("div",{className:"py-4 px-2 sm:px-4 dark:border-t dark:border-t-darkSurface-600",children:(0,re.jsx)(s.G,{isOpen:t,close:r,content:(0,re.jsx)(pe,{activeType:i,closePopup:r}),children:(0,re.jsx)(Le,{openPopup:n})})})},Ze=n(10823),Te=n(36969),ze=n(37400),Be=n.n(ze),Re=n(46080),De=n(98948),Pe=n(2252),Me=n(19523),Fe=n(85127);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve={},He="",Ue=function(e){var t,n=(0,G.useState)(50),r=n[0],i=n[1],a=(0,oe.v9)(Z._,Je).selectedImageId,s=(0,G.useRef)(null),o=(0,G.useState)(""),l=o[0],c=o[1],d=(0,G.useRef)(null),u=(0,G.useRef)(null),f=(0,G.useState)(0),p=f[0],h=f[1];He=e.id;var m=(0,G.useState)({}),v=m[0],w=m[1],j=(0,G.useState)(!1),k=j[0],y=j[1],C=(0,G.useState)(0),N=C[0],S=C[1];function O(e){w((function(t){return Ae(Ae({},t),{},(0,g.Z)({},e,{isLoading:!1,progress:100}))})),setTimeout((function(){w((function(t){return Ae(Ae({},t),{},(0,g.Z)({},e,{isLoading:!1,progress:0}))}))}),3e3)}function I(t,n){w((function(r){var i,a;return(null===(i=r[n])||void 0===i?void 0:i.progress)>t||!r[e.id]||100===(null===(a=r[e.id])||void 0===a?void 0:a.progress)?r:Ae(Ae({},r),{},(0,g.Z)({},n,{isLoading:!0,progress:t}))}))}var _=function(){var t=(0,x.Z)(b().mark((function t(){var n,r,i,a,o,l,c,f,p,m,g,x,v,w,j;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=d.current,a=u.current,i&&a){t.next=4;break}return t.abrupt("return");case 4:if(y(!0),o=a.getBoundingClientRect(),l=o.width,c=o.height,f=e.id,S(0),p=null===(n=Ve[f])||void 0===n?void 0:n.original){t.next=16;break}return t.t0=J.Z,t.next=13,(0,Se.G)(e.src,(0,Oe.B)(e.original.size),(function(e){f===He&&S(e)}));case 13:t.t1=t.sent.src,p=(0,t.t0)(t.t1),Ve[f]=Ae(Ae({},null!==(m=Ve[f])&&void 0!==m?m:{}),{},{original:p});case 16:return Ve[f]||(Ve[f]={original:p}),t.next=19,(0,Me.p)(p);case 19:g=t.sent,x=g.image,v=(0,Pe.c)(x.width,x.height,l,c,!1),w=v.width,j=v.height,h(j),i.style.width="".concat(w,"px"),i.style.height="".concat(j,"px"),i.width=w,i.height=j,i.src=p,y(!1),null===(r=s.current)||void 0===r||r.style.setProperty("--thumb-height","".concat(j,"px"));case 30:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function L(e){var t;if(e.compressed&&a===e.id){var n=null!==(t=(0,Oe.B)(e.compressed.size))&&void 0!==t?t:1,r=e.id,i=e.compressionSettings,s=Ve[r];if(s&&s.preview&&JSON.stringify(s.preview.settings)===JSON.stringify(i))return c((0,J.Z)(s.preview.src)),O(r),void y(!1);!function(e){w((function(t){var n,r;return null!==(n=t[e])&&void 0!==n&&n.isLoading||100!==(null===(r=t[e])||void 0===r?void 0:r.progress)?Ae(Ae({},t),{},(0,g.Z)({},e,{isLoading:!0,progress:0})):t}))}(e.id);var o=new AbortController;De.Z.get(e.compressed.src,{onDownloadProgress:function(e){He===r?I(Math.floor(e.loaded/n*100),r):o.abort()},responseType:"blob",signal:o.signal}).then(function(){var e=(0,x.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He===r){e.next=2;break}return e.abrupt("return");case 2:return(n=new FileReader).readAsDataURL(t.data),n.onload=function(){var e,t,a,s=n.result;c((0,J.Z)(null!==(e=null===s||void 0===s?void 0:s.toString())&&void 0!==e?e:"")),Ve[r]=Ae(Ae({},null!==(t=Ve[r])&&void 0!==t?t:{}),{},{preview:{src:null!==(a=null===s||void 0===s?void 0:s.toString())&&void 0!==a?a:"",settings:i}})},e.next=7,(0,Fe._)(100);case 7:O(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){O(r)}))}}(0,G.useEffect)((function(){e.compressed&&c(e.compressed.src),i(50)}),[e.id]),(0,G.useEffect)((function(){L(e)}),[null===(t=e.compressed)||void 0===t?void 0:t.src]);var E=(0,Re.e)();return(0,G.useEffect)((function(){E(_)}),[e.id,u,d]),{value:r,handleChange:function(e){return i(+e.target.value)},sliderRangeRef:s,imageLoadingStates:v,canvasRef:d,containerRef:u,compressedSrc:l,isLoadingOriginalImage:k,originalImageLoadingPercentage:N,canvasHeight:p}},Je=function(e,t){return e.selectedImageId===t.selectedImageId},qe=n(14124),Ke=n(16541),Ye=n(17845),We=n(4713),Qe=function(e){var t,n,r,i,a,s,o,l=e.image,c=Ue(l),d=c.value,u=c.handleChange,f=c.sliderRangeRef,p=c.imageLoadingStates,h=c.canvasRef,m=c.containerRef,g=c.compressedSrc,x=c.isLoadingOriginalImage,v=c.originalImageLoadingPercentage,b=c.canvasHeight;return(0,re.jsxs)("div",{className:"lg:px-4 mx-auto h-full flex flex-col pb-2 text-black dark:text-white",children:[(0,re.jsx)("div",{className:"w-full h-16 overflow-hidden",children:(0,re.jsxs)("div",{className:"w-full text-sm lg:text-lg flex pb-2 pt-4 gap-4 lg:gap-24",children:[(0,re.jsxs)("div",{className:"flex justify-center lg:justify-end gap-2 w-1/2",children:[(0,re.jsxs)("span",{className:"capitalize",children:[(0,q.V)("original"),":"]}),(0,re.jsx)("span",{className:"font-semibold","data-testid":"original-size",children:"".concat(l.original.size)})]}),(0,re.jsxs)("div",{className:"flex justify-center lg:justify-start gap-2 w-1/2",children:[l.compressed&&"compressing"!==l.state&&!(null!==(t=p[l.id])&&void 0!==t&&t.isLoading)&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsxs)("span",{className:"capitalize",children:[(0,q.V)("compressed"),":"]}),(0,re.jsx)("span",{className:"font-semibold","data-testid":"compressed-size",children:"".concat(l.compressed.size," (").concat((null===(n=l.compressed)||void 0===n?void 0:n.quality)>-1?"-":"+").concat(Math.abs(null===(r=l.compressed)||void 0===r?void 0:r.quality),"%)")})]}),"compressing"===l.state&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsxs)("span",{className:"capitalize",children:[(0,q.V)("compressed"),":"]}),(0,re.jsxs)("span",{className:"font-semibold capitalize","data-testid":"compressed-size",children:[(0,q.V)("common:processing"),(0,re.jsx)(Ye.j,{})]})]}),(null===(i=p[l.id])||void 0===i?void 0:i.isLoading)&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsxs)("span",{className:"capitalize",children:[(0,q.V)("compressed"),":"]}),(0,re.jsx)("span",{className:"font-semibold","data-testid":"compressed-size",children:"".concat((0,We.k)((0,q.V)("common:loading"))," ").concat(p[l.id].progress,"%")})]})]})]})}),(0,re.jsx)("div",{className:"relative w-full lg:px-60 bg-irGray-200 dark:bg-darkSurface-100 flex-grow flex items-center justify-center",children:(0,re.jsx)("div",{className:"absolute inset-0 flex items-center justify-center max-h-full overflow-hidden",ref:m,children:(0,re.jsxs)("div",{className:"relative max-h-full h-full inline-flex items-center justify-center",children:[(0,re.jsx)("img",{ref:h,className:"h-full w-full pointer-events-none ".concat(x&&"hidden"," z-20")}),!x&&(0,re.jsx)("div",{className:"absolute left-0 right-0 z-10 overflow-hidden",children:(0,re.jsx)("div",{className:"relative w-full h-full overflow-hidden",style:{height:"".concat(b,"px")},children:(0,re.jsx)("div",{className:"absolute inset-0 z-10",style:{backgroundImage:'url("/checked-bg.png")'}})})}),x&&(0,re.jsxs)("div",{className:"relative flex flex-col items-center justify-center gap-4","data-testid":"original-image-loader",children:[(0,re.jsx)("div",{className:"capitalize",children:(0,re.jsx)(se.vN,{keyName:"loading-image-text",variables:{percentage:v,size:l.original.size}})}),(0,re.jsx)("div",{className:"absolute left-0 right-0 top-full mt-2 outline outline-irBlue-200",children:(0,re.jsx)(Te.u,{text:"",percentage:v})})]}),!x&&(0,re.jsx)("div",{className:"absolute left-0 right-0 z-30 overflow-hidden",children:(0,re.jsxs)("div",{className:"relative w-full h-full overflow-hidden",style:{height:"".concat(b,"px")},children:[(0,re.jsx)("div",{className:"absolute inset-0 z-10",style:{clipPath:"inset(0 0 0 ".concat(d,"%)"),backgroundImage:'url("/checked-bg.png")'},children:(!(null!==(a=p[l.id])&&void 0!==a&&a.isLoading)||(null===(s=p[l.id])||void 0===s?void 0:s.isLoading)&&(null===(o=p[l.id])||void 0===o?void 0:o.progress)<=95)&&(0,re.jsx)("div",{className:"relative h-full",children:(0,re.jsx)("img",{src:g,className:"w-full h-full","data-testid":"compressed-image"},"".concat(l.id,"-compressed-image"))})}),(0,re.jsx)("div",{className:"absolute inset-0 flex items-center z-10",children:(0,re.jsx)("div",{className:"relative w-full",children:(0,re.jsx)("input",{type:"range",className:"".concat(Be().slider," w-full"),min:0,max:100,value:d,onChange:u,ref:f,"data-testid":"compressor-preview-slider-input"})})}),(0,re.jsxs)("div",{className:"absolute top-0 bottom-0 flex flex-col justify-center items-center pointer-events-none z-20 -translate-x-1/2",style:{left:"".concat(d,"%")},children:[(0,re.jsx)("div",{className:"h-full bg-white",style:{width:"1px",boxShadow:"0px -1px 5px 1px rgba(0,0,0,0.4)"}}),(0,re.jsx)("div",{className:"rounded-full border border-white flex-grow-0 flex-shrink-0 flex items-center justify-center p-1",children:(0,re.jsx)(Xe,{})}),(0,re.jsx)("div",{className:"h-full bg-white",style:{width:"1px",boxShadow:"0px -1px 5px 1px rgba(0,0,0,0.4)"}})]})]})})]})})}),(0,re.jsx)("div",{className:"text-center",children:(0,re.jsx)(qe.e,{text:l.title,children:(0,re.jsx)("div",{className:"text-center pt-4","data-testid":"compressed-image-title",children:"".concat((0,Ke.u)(l.title))})})})]})},Xe=function(){return(0,re.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,re.jsx)("g",{filter:"url(#filter0_b_425_604)",children:(0,re.jsx)("circle",{cx:"28",cy:"28",r:"28",fill:"black",fillOpacity:"0.2"})}),(0,re.jsx)("path",{d:"M34.8416 29.8916C34.7605 29.9671 34.6955 30.0582 34.6504 30.1594C34.6053 30.2606 34.5811 30.3698 34.5791 30.4806C34.5772 30.5914 34.5976 30.7014 34.6391 30.8041C34.6805 30.9069 34.7423 31.0002 34.8207 31.0785C34.899 31.1569 34.9923 31.2186 35.095 31.2601C35.1978 31.3016 35.3078 31.322 35.4186 31.3201C35.5294 31.3181 35.6386 31.2939 35.7398 31.2488C35.841 31.2037 35.9321 31.1387 36.0076 31.0576L38.7577 28.3075C38.9122 28.1528 38.999 27.9431 38.999 27.7245C38.999 27.5058 38.9122 27.2961 38.7577 27.1415L36.0076 24.3914C35.8512 24.2456 35.6444 24.1663 35.4306 24.1701C35.2169 24.1738 35.013 24.2604 34.8618 24.4116C34.7107 24.5627 34.6241 24.7667 34.6203 24.9804C34.6165 25.1941 34.6959 25.401 34.8416 25.5574L36.1836 26.8994L31.5745 26.8994C31.3557 26.8994 31.1458 26.9864 30.9911 27.1411C30.8364 27.2958 30.7494 27.5057 30.7494 27.7245C30.7494 27.9433 30.8364 28.1531 30.9911 28.3079C31.1458 28.4626 31.3557 28.5495 31.5745 28.5495L36.1836 28.5495L34.8416 29.8916V29.8916Z",fill:"white"}),(0,re.jsx)("path",{d:"M28.2746 19.1992C28.4934 19.1992 28.7032 19.2861 28.858 19.4409C29.0127 19.5956 29.0996 19.8054 29.0996 20.0242L29.0996 35.9748C29.0996 36.1937 29.0127 36.4035 28.858 36.5582C28.7032 36.713 28.4934 36.7999 28.2746 36.7999C28.0558 36.7999 27.8459 36.713 27.6912 36.5582C27.5365 36.4035 27.4495 36.1937 27.4495 35.9748L27.4495 20.0242C27.4495 19.8054 27.5365 19.5956 27.6912 19.4409C27.8459 19.2861 28.0558 19.1992 28.2746 19.1992V19.1992Z",fill:"white"}),(0,re.jsx)("path",{d:"M24.9748 28.5495C25.1936 28.5495 25.4034 28.4626 25.5582 28.3079C25.7129 28.1531 25.7998 27.9433 25.7998 27.7245C25.7998 27.5057 25.7129 27.2958 25.5582 27.1411C25.4034 26.9864 25.1936 26.8994 24.9748 26.8994L19.8156 26.8994L21.1576 25.5574C21.3034 25.401 21.3827 25.1941 21.3789 24.9804C21.3752 24.7667 21.2886 24.5627 21.1374 24.4116C20.9863 24.2604 20.7823 24.1738 20.5686 24.1701C20.3548 24.1663 20.148 24.2456 19.9916 24.3914L17.2415 27.1415C17.087 27.2961 17.0002 27.5058 17.0002 27.7245C17.0002 27.9431 17.087 28.1528 17.2415 28.3075L19.9916 31.0576C20.0671 31.1387 20.1582 31.2037 20.2594 31.2488C20.3606 31.2939 20.4699 31.3181 20.5806 31.3201C20.6914 31.322 20.8014 31.3016 20.9042 31.2601C21.0069 31.2186 21.1002 31.1569 21.1786 31.0785C21.2569 31.0002 21.3187 30.9069 21.3602 30.8041C21.4017 30.7014 21.422 30.5914 21.4201 30.4806C21.4181 30.3698 21.3939 30.2606 21.3488 30.1594C21.3037 30.0582 21.2387 29.9671 21.1576 29.8916L19.8156 28.5495L24.9748 28.5495V28.5495Z",fill:"white"}),(0,re.jsx)("defs",{children:(0,re.jsxs)("filter",{id:"filter0_b_425_604",x:"-4",y:"-4",width:"64",height:"64",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,re.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,re.jsx)("feGaussianBlur",{in:"BackgroundImage",stdDeviation:"2"}),(0,re.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_425_604"}),(0,re.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_425_604",result:"shape"})]})})]})},$e=n(23603),et=n(32994),tt=function(e){var t=e.isOpen,n=e.close,r=e.callback;return(0,re.jsx)(et.u,{isOpen:t,close:n,children:(0,re.jsx)("div",{className:"w-full h-screen flex justify-center items-center z-50",children:(0,re.jsxs)("div",{className:"inline-flex flex-col gap-4 lg:mx-auto bg-white dark:bg-darkSurface-300 px-8 py-8 rounded-xl mx-4 text-black dark:text-white",onClick:function(e){return e.stopPropagation()},children:[(0,re.jsx)("div",{className:"text-xl font-semibold capitalize",children:(0,re.jsx)(se.vN,{keyName:"confirm-settings"})}),(0,re.jsx)("div",{children:(0,re.jsx)(se.vN,{keyName:"max-file-size-disclaimer"})}),(0,re.jsxs)("div",{className:"flex justify-end items-center gap-4 font-semibold",children:[(0,re.jsx)("div",{className:"cursor-pointer px-4 py-2 bg-irGray-400 dark:bg-darkSurface-200 dark:hover:bg-darkSurface-100 hover:bg-irGray-600 rounded-xl capitalize",onClick:n,children:(0,q.V)("common:cancel")}),(0,re.jsx)("div",{className:"cursor-pointer px-4 py-2 bg-irBlue-400 dark:bg-darkPrimary-100 dark:hover:bg-darkPrimary-200 hover:bg-irBlue-600 text-white rounded-xl capitalize",onClick:r,children:"".concat((0,q.V)("common:yes"),", ").concat((0,q.V)("common:apply"))})]})]})})})},nt=function(){var e=(0,B.TL)(),t=H().compressImage,n=(0,B.CG)(Z._).images.some((function(e){return"compressing"===e.state&&!e.error})),r=(0,G.useState)(!1),i=r[0],a=r[1];return{handleApply:function(e){e.importTask&&t(e,e.importTask,(0,K.F)((0,N.Z)(e.file.file),e.compressionSettings))},handleApplyToAll:function(r){if(!n){var s=B.h.getState().compress.images;if("max_file_size"===r.compressionSettings.type&&r.compressionSettings.maxFileSize.value>0&&!i&&s.some((function(e){return"png"===(0,N.Z)(e.file.file)})))a(!0);else{var o=s.filter((function(e){if("max_file_size"===r.compressionSettings.type){var t=(0,N.Z)(e.file.file);return"jpg"===t||"jpeg"===t}return!0}));e((0,E.uh)(r.compressionSettings)),o.forEach((function(e){e.importTask&&t(e,e.importTask,(0,K.F)((0,N.Z)(e.file.file),r.compressionSettings))}))}}},isApplyToAllDisabled:n,isMaxFileSizeConfirmationModalOpen:i,setIsMaxFileSizeConfirmationModalOpen:a,onQualityChangeApply:function(){var e=B.h.getState().compress.selectedImageId,n=B.h.getState().compress.images.find((function(t){return t.id===e}));n&&n.importTask&&t(n,n.importTask,(0,K.F)((0,N.Z)(n.file.file),n.compressionSettings))},handleReset:function(){if(!n){var r=B.h.getState().compress.images,s=B.h.getState().compress.compressionSettings;if("max_file_size"===s.type&&s.maxFileSize.value>0&&!i&&r.some((function(e){return"png"===(0,N.Z)(e.file.file)})))a(!0);else{var o=r.filter((function(e){if("max_file_size"===s.type){var t=(0,N.Z)(e.file.file);return"jpg"===t||"jpeg"===t}return!0}));e((0,E.uh)(s)),o.forEach((function(e){e.importTask&&t(e,e.importTask,(0,K.F)((0,N.Z)(e.file.file),s))}))}}}}},rt=function(e){var t=e.image,n=e.type,r=nt(),i=r.handleApply,a=r.handleApplyToAll,o=r.isApplyToAllDisabled,l=r.isMaxFileSizeConfirmationModalOpen,c=r.setIsMaxFileSizeConfirmationModalOpen,d=r.handleReset,u=(0,y.O)(),f=u.isOpen,p=u.onClose,h=u.toggle;return(0,re.jsxs)("div",{className:"flex gap-4 pb-2 md:pb-0",children:[(0,re.jsx)(s.G,{isOpen:f,close:p,content:(0,re.jsx)("div",{className:"absolute top-full right-0 pt-2",children:(0,re.jsxs)("div",{className:"bg-white dark:bg-darkSurface-200 border border-irGray-200 dark:border-darkSurface-600 rounded-md text-center shadow-lg text-black dark:text-white overflow-hidden",onClick:p,children:[(0,re.jsx)("button",{className:"w-full hover:bg-irGray-200 dark:hover:bg-darkSurface-300 disabled:bg-irGray-100 dark:disabled:bg-darkSurface-400 disabled:text-irGray-600 overflow-hidden whitespace-nowrap px-12 py-2 border-b border-b-irGray-200 dark:border-b-darkSurface-600",onClick:function(){return a(t)},disabled:o,"data-testid":"apply-to-all-button",children:(0,re.jsx)(se.vN,{keyName:"apply-to-all-button-label"})}),(0,re.jsx)("button",{className:"w-full overflow-hidden whitespace-nowrap px-12 py-2 capitalize hover:bg-irGray-200 dark:hover:bg-darkSurface-300",onClick:d,"data-testid":"reset-button",children:(0,re.jsx)(se.vN,{keyName:"reset"})})]})}),children:(0,re.jsxs)("div",{className:"flex items-stretch bg-irBlue-200 text-white rounded-md overflow-hidden",children:[(0,re.jsx)("button",{className:"border-r border-r-white dark:border-r-darkSurface-300 px-6 py-2 hover:bg-irBlue-400 isabled:bg-irGray-500",onClick:function(){return"max_file_size"===n&&i(t)},disabled:"compressing"===t.state,"data-testid":"apply-button",children:(0,re.jsx)(se.vN,{keyName:"apply-button-label"})}),(0,re.jsx)("button",{className:"hover:bg-irBlue-400 disabled:bg-irGray-500 px-2 grid place-items-center ".concat(f?"rotate-180":""),onClick:h,disabled:"compressing"===t.state,"data-testid":"drop-down-arrow",children:(0,re.jsx)($e.e,{className:"stroke-white"})})]})}),(0,re.jsx)(tt,{isOpen:l,close:function(){return c(!1)},callback:function(){a(t),c(!1)}})]})},it=function(e){var t=(0,G.useRef)(null),n=(0,B.TL)();(0,G.useEffect)((function(){e&&function(e){t.current&&(clearInterval(t.current),t.current=null);var r=e.id;t.current=setInterval((0,x.Z)(b().mark((function t(){var i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(i=e.importTask)&&void 0!==i&&i.endedAt){t.next=2;break}return t.abrupt("return");case 2:(new Date).getTime()-new Date(e.importTask.createdAt).getTime()>144e5&&n((0,E.XZ)({imageId:r,value:!0}));case 4:case"end":return t.stop()}}),t)}))),6e5)}(e)}),[null===e||void 0===e?void 0:e.id]),(0,G.useEffect)((function(){return function(){t.current&&clearInterval(t.current)}}),[])},at=function(e,t){return JSON.stringify(e.selectedImageId)===JSON.stringify(t.selectedImageId)&&JSON.stringify(e.images)===JSON.stringify(t.images)&&e.tooltipBounceImageId===t.tooltipBounceImageId},st=function(){var e=function(){var e,t=(0,B.CG)(Z._,at),n=t.selectedImageId,r=t.images,i=t.tooltipBounceImageId,a=n===i,s=(0,B.TL)(),o=null!==(e=r.find((function(e){return e.id===n})))&&void 0!==e?e:null;return it(o),{images:r,selectedImage:o,shouldTooltipAnimate:a,handleQualityChange:function(e,t){return s((0,E.$L)({imageId:t,value:e}))},handleMaxFileSizeChange:function(e,t){return s((0,E.eG)({imageId:t,value:e}))},handleTypeChange:function(e,t){return s((0,E.r8)({imageId:t,type:e}))},isMaxFileSizeDisabled:!!o&&"png"===(0,N.Z)(o.file.file)}}(),t=e.selectedImage,n=e.handleMaxFileSizeChange,r=e.handleQualityChange,i=e.handleTypeChange,a=e.isMaxFileSizeDisabled,s=nt().onQualityChangeApply;return null===t?(0,re.jsx)("div",{className:"mx-7 bg-irGray-100 dark:bg-darkSurface-200 h-full border border-irGray-400 dark:border-darkSurface-400 border-dashed flex items-center justify-center","data-testid":"no-image-element",children:(0,re.jsx)("div",{className:"bg-irBlue-200 dark:bg-darkPrimary-100 mx-auto",style:{width:"300px",height:"250px"}})}):t.hasExpired?(0,re.jsx)("div",{className:"text-center font-semibold text-xl my-auto h-full text-black dark:text-white","data-testid":"expired-element",children:(0,re.jsx)(se.vN,{keyName:"expired-image-label"})}):(0,re.jsxs)("div",{className:"flex flex-col h-full max-h-full min-h-0 overflow-x-hidden scroll lg:gap-8",children:[(0,re.jsxs)("div",{className:"lg:py-4 lg:px-2 dark:bg-darkSurface-200 flex flex-col lg:flex-row items-center gap-2 border border-irGray-200 dark:border-darkSurface-400 mx-2",children:[(0,re.jsx)("div",{className:"w-full",children:(0,re.jsx)(Ze.C,{type:t.compressionSettings.type,maxFileSize:t.compressionSettings.maxFileSize,quality:t.compressionSettings.quality,handleMaxFileSizeChange:function(e){return n(e,t.id)},handleQualityChange:function(e){return r(e,t.id)},handleTypeChange:function(e){return i(e,t.id)},isMaxFileSizeDisabled:a,isQualityDisabled:"compressing"===t.state,handleApply:s})}),(0,re.jsx)("div",{className:"ml-auto mx-4",children:(0,re.jsx)(rt,{image:t,type:t.compressionSettings.type})})]}),(0,re.jsx)("div",{className:"flex-grow",children:(0,re.jsx)(Qe,{image:t})})]})},ot=n(35096),lt=l.p.compressor,ct=function(){var e=te(),t=e.isOpen,n=e.toggle,r=e.onClose,i=e.handleFile,a=(0,B.CG)((function(e){return e.compress.downloadButtonState})),o=a.state,l=(0,c.e)(i,{allowMultiple:!0,supportedExtensions:lt},t),g=l.handleClick,x=l.accessError,v=l.setAccessError,b=l.isLoading,w="active"===o;return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(p.z,{isOpen:x,close:function(){return v(!1)},handleRetry:g}),(0,re.jsx)(s.G,{isOpen:t,close:r,content:(0,re.jsx)("div",{className:"absolute flex flex-col top-full my-2 left-0 bg-white dark:bg-darkSurface-200 rounded-xl shadow-lg border border-irGray-400 dark:border-darkSurface-100 overflow-hidden","data-testid":"add-images-content",children:(0,re.jsx)(d.a,{items:{from_device:(0,re.jsx)(u.X,{handleFile:i,options:{allowMultiple:!0,supportedExtensions:lt},htmlFileInputId:"compressor-editor-file-input"}),dropbox:(0,re.jsx)(f.M,{handleFile:i,options:{allowMultiple:!0,supportedExtensions:lt},isOpen:t}),google_drive:(0,re.jsx)(h.o,{options:{allowMultiple:!0,onClick:g,supportedExtensions:lt},isLoading:b}),url_upload:(0,re.jsx)(m.n,{handleFile:i,options:{supportedExtensions:lt}})}})}),children:(0,re.jsx)(qe.e,{text:(0,We.k)((0,q.V)("upload")),children:(0,re.jsx)(ot.O,{className:"cursor-pointer flex border border-irGray-400 dark:border-darkSurface-100 rounded-xl overflow-hidden h-full py-3  ".concat(t?"bg-irGray-200 dark:bg-darkSurface-200":"hover:bg-irGray-200 dark:bg-darkSurface-300"," dark:hover:bg-darkSurface-200"),onClick:function(){return w&&n()},"data-testid":"add-images-icon",children:(0,re.jsx)(he.d,{className:"fill-black dark:fill-white"})})})})]})},dt=n(28981),ut=function(){var e=function(){var e=(0,y.O)(),t=e.isOpen,n=e.open,r=e.onClose,i=(0,oe.I0)(),a=(0,_.p)().toast,s=(0,We.k)((0,q.V)("delete-successful"));return{isOpen:t,open:n,close:r,handleDeleteAll:function(){i((0,E.zC)()),r(),a({closeable:!0,position:"top-right",status:"success",text:s,time:I.w})}}}(),t=e.isOpen,n=e.open,r=e.close,i=e.handleDeleteAll,a=(0,B.CG)((function(e){return e.compress.downloadButtonState})),s="active"===a.state;return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(qe.e,{text:(0,We.k)((0,q.V)("delete-all")),children:(0,re.jsx)(ot.O,{className:"group cursor-pointer dark:hover:bg-darkSurface-200 py-3 px-3.5 border border-irGray-400 dark:border-darkSurface-100 rounded-xl grid items-center hover:bg-red-600 ".concat(t?"bg-gray-200 dark:bg-darkSurface-300":"dark:bg-darkSurface-300"),onClick:function(){s&&n()},"data-testid":"delete-modal-opener",children:(0,re.jsx)(me.p,{width:16.84,height:20,className:"group-hover:fill-white"})})}),(0,re.jsx)(dt.p,{handleDelete:i,isOpen:t,close:r})]})},ft=function(){var e=ce(),t=e.isOpen,n=e.toggle,r=e.close,i=e.handleClick,a=e.sort;return(0,re.jsx)(s.G,{isOpen:t,close:r,content:(0,re.jsx)("div",{className:"absolute right-0 flex flex-col my-1 overflow-hidden bg-white border shadow-lg top-full dark:bg-darkSurface-200 rounded-xl border-irGray-400 dark:border-darkSurface-400","data-testid":"sort-list-container",children:(0,re.jsx)(d.a,{callback:i,items:(0,ue.o)(a)})}),children:(0,re.jsx)(qe.e,{text:(0,We.k)((0,q.V)("filter")),children:(0,re.jsx)(ot.O,{className:"cursor-pointer flex items-center justify-center ".concat(t?"bg-irGray-200 dark:bg-darkSurface-200":"bg-white dark:bg-darkSurface-300 dark:hover:bg-darkSurface-200"," hover:bg-irGray-200 border border-irGray-400 dark:border-darkSurface-100 rounded-xl p-2.5"),onClick:n,"data-testid":"sort-container-opener",children:(0,re.jsx)(ge.f,{width:24,height:24})})})})},pt=function(){var e=Ie(),t=e.images,n=e.handleDownloadAll,r=e.isActive,i=e.isExporting,a=e.isDownloading,s=e.downloadProgress,o=t.filter((function(e){return"compressed"===e.state}));return(0,re.jsx)("div",{className:"flex-shrink-0 w-full h-[101px]",children:(0,re.jsx)("div",{className:"flex items-center justify-center px-6 bg-white dark:bg-darkSurface-100 border-t border-t-irGray-200 dark:border-t-darkSurface-600 h-full",children:(0,re.jsxs)("div",{className:"group relative cursor-pointer flex justify-center items-center gap-4 ".concat(r?"hover:bg-irBlue-400 bg-irBlue-200 dark:bg-darkPrimary-100 dark:hover:bg-darkPrimary-100":"bg-irGray-600 dark:bg-darkSurface-600"," rounded-xl py-3 w-full"),onClick:n,"data-testid":"compressor-download-all-".concat(r?"active":"inactive","-button"),children:[i?(0,re.jsx)(ve.a,{className:"stroke-white",width:25,height:25}):(0,re.jsx)(xe._,{width:25,height:25}),(0,re.jsx)("div",{className:"text-white font-semibold capitalize text-[25px]",children:i?(0,q.V)("common:processing"):a?(0,We.k)("".concat((0,q.V)("common:downloading")," ").concat(s,"%")):(0,We.k)(t.length>1?(0,q.V)("common:download-all-images")||"Download All Images":(0,q.V)("common:download-image"))}),(0,re.jsx)("span",{"data-compressedImageCount":o.length}),o.length>0&&(0,re.jsx)("div",{className:"absolute -top-3 -right-3 rounded-full border-2 border-solid border-white w-7 h-7 text-white font-semibold flex items-center justify-center ".concat(r?"bg-irBlue-200 dark:bg-darkPrimary-100":"bg-irGray-600 dark:bg-darkSurface-600"),"data-testid":"compressor-download-all-downloadable-images-count",children:o.length})]})})})},ht=n(47094),mt=n(91248),gt=function(){var e=function(){var e,t=(0,G.useRef)(null),n=(0,G.useState)(null!==(e=t.current)&&void 0!==e?e:null),r=n[0],i=n[1],a=te(),s=a.handleFile,o=a.handleDeviceUploadClick,c=(0,mt.T)(r,s,{supportedExtensions:l.p.compressor}).isDragging;return(0,G.useEffect)((function(){t.current&&i(t.current)}),[t]),{dragUploadRef:t,isDragging:c,handleDeviceUploadClick:o}}(),t=e.dragUploadRef,n=e.isDragging,r=e.handleDeviceUploadClick;return(0,re.jsxs)("div",{"data-testid":"no-images-container",children:[(0,re.jsx)("div",{className:"capitalize",children:(0,re.jsx)(se.vN,{keyName:"upload-images-to-compress"})}),(0,re.jsx)("div",{className:"group cursor-pointer border ".concat(n?"border-white":"border-irGray-400 dark:border-darkSurface-600"," hover:border-irGray-600 dark:hover:border-darkSurface-500 border-dashed py-20 w-full mt-8 flex flex-col items-center justify-center gap-4 ").concat(n&&"bg-irBlue-200"),ref:t,onClick:r,"data-testid":"no-images-file-upload",children:n?(0,re.jsx)("div",{children:(0,re.jsx)(ht.B,{})}):(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(he.d,{className:"fill-irGray-500 group-hover:fill-irGray-600 dark:fill-white dark:group-hover:fill-white"}),(0,re.jsx)("div",{children:(0,re.jsx)(se.vN,{keyName:"drag-and-drop-images-here"})})]})})]})},xt=function(e){var t=e.width,n=e.height,r=null!==t&&void 0!==t?t:20,i=null!==n&&void 0!==n?n:14;return(0,re.jsx)("svg",{width:r,height:i,viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-black dark:fill-white",children:(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.2929 13.7071C6.6834 14.0976 7.3166 14.0976 7.7071 13.7071C8.0976 13.3166 8.0976 12.6834 7.7071 12.2929L3.4142 8L19 8C19.5523 8 20 7.5523 20 7C20 6.4477 19.5523 6 19 6L3.4142 6L7.7071 1.7071C8.0976 1.3166 8.0976 0.683401 7.7071 0.292901C7.3166 -0.0975992 6.6834 -0.0975992 6.2929 0.292901L0.292901 6.2929C-0.0975984 6.6834 -0.0975984 7.3166 0.292901 7.7071L6.2929 13.7071Z"})})},vt=n(99158),bt=n(18707),wt=function(e){var t=e.width,n=e.height,r=e.fill,i=null!==t&&void 0!==t?t:41,a=null!==n&&void 0!==n?n:36,s=null!==r&&void 0!==r?r:"white";return(0,re.jsxs)("svg",{width:i,height:a,viewBox:"0 0 41 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,re.jsx)("g",{filter:"url(#filter0_d_1380_10412)",children:(0,re.jsx)("path",{d:"M24.0925 21.6241H21.5663V13.3636C21.5663 13.2136 21.4436 13.0908 21.2936 13.0908H19.248C19.098 13.0908 18.9753 13.2136 18.9753 13.3636V21.6241H16.4559C16.2275 21.6241 16.1013 21.8867 16.2411 22.0639L20.0594 26.8948C20.085 26.9274 20.1176 26.9538 20.1548 26.9719C20.192 26.9901 20.2328 26.9995 20.2742 26.9995C20.3156 26.9995 20.3565 26.9901 20.3937 26.9719C20.4309 26.9538 20.4635 26.9274 20.489 26.8948L24.3073 22.0639C24.4471 21.8867 24.321 21.6241 24.0925 21.6241Z",fill:s})}),(0,re.jsx)("g",{filter:"url(#filter1_d_1380_10412)",children:(0,re.jsx)("path",{d:"M30.4807 10.0469C28.9192 5.92854 24.9406 3 20.2802 3C15.6198 3 11.6412 5.92513 10.0798 10.0435C7.15805 10.8106 5 13.4732 5 16.637C5 20.4042 8.05127 23.4554 11.8151 23.4554H13.1822C13.3322 23.4554 13.4549 23.3327 13.4549 23.1827V21.1372C13.4549 20.9871 13.3322 20.8644 13.1822 20.8644H11.8151C10.6662 20.8644 9.58543 20.4076 8.78085 19.5791C7.97967 18.7541 7.55352 17.6427 7.59102 16.4904C7.6217 15.5903 7.92854 14.7448 8.48424 14.0323C9.05359 13.3061 9.85135 12.7777 10.7377 12.5425L12.0299 12.2049L12.5037 10.9572C12.7969 10.1799 13.206 9.45369 13.7208 8.79571C14.2291 8.14355 14.8311 7.57026 15.5073 7.0945C16.9085 6.10923 18.5585 5.58761 20.2802 5.58761C22.0019 5.58761 23.6519 6.10923 25.0531 7.0945C25.7316 7.57179 26.3316 8.14454 26.8396 8.79571C27.3544 9.45369 27.7635 10.1833 28.0567 10.9572L28.5272 12.2015L29.8159 12.5425C31.6637 13.0402 32.9558 14.721 32.9558 16.637C32.9558 17.7654 32.516 18.8291 31.7182 19.6269C31.327 20.0204 30.8616 20.3324 30.3489 20.5448C29.8363 20.7572 29.2866 20.8659 28.7317 20.8644H27.3646C27.2146 20.8644 27.0919 20.9871 27.0919 21.1372V23.1827C27.0919 23.3327 27.2146 23.4554 27.3646 23.4554H28.7317C32.4955 23.4554 35.5468 20.4042 35.5468 16.637C35.5468 13.4766 33.3956 10.8174 30.4807 10.0469Z",fill:s})}),(0,re.jsxs)("defs",{children:[(0,re.jsxs)("filter",{id:"filter0_d_1380_10412",x:"11.1826",y:"12.0908",width:"18.1836",height:"23.9082",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,re.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,re.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,re.jsx)("feOffset",{dy:"4"}),(0,re.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,re.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,re.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),(0,re.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1380_10412"}),(0,re.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1380_10412",result:"shape"})]}),(0,re.jsxs)("filter",{id:"filter1_d_1380_10412",x:"0",y:"0",width:"40.5469",height:"30.4551",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,re.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,re.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,re.jsx)("feOffset",{dy:"2"}),(0,re.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,re.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,re.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),(0,re.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1380_10412"}),(0,re.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1380_10412",result:"shape"})]})]})]})},jt=n(77191),kt=function(e){return(0,jt.Z)(e),(0,re.jsxs)("svg",{width:"36",height:"34",viewBox:"0 0 36 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,re.jsxs)("g",{filter:"url(#filter0_d_1380_11234)",children:[(0,re.jsx)("path",{d:"M16.2094 12.2207H18.8966V18.9389H16.2094V12.2207ZM16.208 20.2825H18.8953V22.9698H16.208V20.2825Z",fill:"white"}),(0,re.jsx)("path",{d:"M19.9261 4.42694C19.4585 3.54686 18.5475 3 17.5506 3C16.5536 3 15.6426 3.54686 15.175 4.42828L5.31544 23.0551C5.09666 23.4641 4.98828 23.9231 5.001 24.3868C5.01373 24.8505 5.14711 25.3029 5.388 25.6993C5.62542 26.0976 5.96259 26.427 6.36623 26.6551C6.76987 26.8832 7.22602 27.002 7.68964 27H27.4115C28.3628 27 29.224 26.5136 29.7145 25.6993C29.955 25.3028 30.0881 24.8504 30.1009 24.3868C30.1136 23.9232 30.0054 23.4642 29.787 23.0551L19.9261 4.42694ZM7.68964 24.3127L17.5506 5.68592L27.4182 24.3127H7.68964Z",fill:"white"})]}),(0,re.jsx)("defs",{children:(0,re.jsxs)("filter",{id:"filter0_d_1380_11234",x:"0",y:"0",width:"35.1016",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,re.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,re.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,re.jsx)("feOffset",{dy:"2"}),(0,re.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,re.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,re.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.51 0"}),(0,re.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1380_11234"}),(0,re.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1380_11234",result:"shape"})]})})]})},yt="white",Ct=function(e){var t=e.fill,n=e.hoverColor,r=(0,G.useState)(null!==t&&void 0!==t?t:yt),i=r[0],a=r[1];return(0,re.jsxs)("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){a(null!==n&&void 0!==n?n:i)},onMouseLeave:function(){a(null!==t&&void 0!==t?t:yt)},children:[(0,re.jsx)("g",{filter:"url(#filter0_d_1376_5164)",children:(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2352 4.75507C18.6651 2.41498 15.335 2.41498 14.765 4.75507C14.6799 5.1067 14.513 5.43328 14.2778 5.70822C14.0427 5.98316 13.7459 6.19869 13.4117 6.33728C13.0775 6.47587 12.7153 6.5336 12.3546 6.50577C11.9939 6.47794 11.6448 6.36533 11.3359 6.17712C9.27779 4.92307 6.9227 7.27816 8.17675 9.33624C8.98678 10.6653 8.26825 12.3994 6.75619 12.7669C4.4146 13.3354 4.4146 16.667 6.75619 17.234C7.10792 17.3193 7.43456 17.4863 7.7095 17.7217C7.98443 17.957 8.1999 18.254 8.33836 18.5883C8.47682 18.9227 8.53435 19.285 8.50626 19.6459C8.47818 20.0067 8.36528 20.3558 8.17675 20.6647C6.9227 22.7228 9.27779 25.0778 11.3359 23.8238C11.6448 23.6353 11.9939 23.5224 12.3547 23.4943C12.7155 23.4662 13.0778 23.5237 13.4122 23.6622C13.7466 23.8006 14.0435 24.0161 14.2789 24.291C14.5142 24.566 14.6813 24.8926 14.7665 25.2444C15.335 27.5859 18.6666 27.5859 19.2337 25.2444C19.3192 24.8928 19.4864 24.5664 19.7218 24.2916C19.9572 24.0169 20.2541 23.8016 20.5884 23.6631C20.9226 23.5247 21.2848 23.4671 21.6456 23.4951C22.0063 23.523 22.3553 23.6356 22.6643 23.8238C24.7224 25.0778 27.0775 22.7228 25.8234 20.6647C25.6352 20.3557 25.5226 20.0066 25.4947 19.6459C25.4668 19.2852 25.5244 18.923 25.6628 18.5887C25.8012 18.2545 26.0165 17.9576 26.2913 17.7222C26.566 17.4868 26.8924 17.3195 27.244 17.234C29.5856 16.6655 29.5856 13.3339 27.244 12.7669C26.8922 12.6817 26.5656 12.5146 26.2907 12.2792C26.0157 12.0439 25.8003 11.747 25.6618 11.4126C25.5233 11.0782 25.4658 10.7159 25.4939 10.3551C25.522 9.99425 25.6349 9.64516 25.8234 9.33624C27.0775 7.27816 24.7224 4.92307 22.6643 6.17712C22.3554 6.36565 22.0063 6.47855 21.6455 6.50664C21.2847 6.53472 20.9223 6.47719 20.588 6.33874C20.2536 6.20028 19.9566 5.98481 19.7213 5.70987C19.486 5.43493 19.3189 5.1083 19.2337 4.75657L19.2352 4.75507ZM17.0001 19.5006C18.1936 19.5006 19.3382 19.0265 20.1822 18.1826C21.0261 17.3386 21.5003 16.194 21.5003 15.0005C21.5003 13.8069 21.0261 12.6623 20.1822 11.8184C19.3382 10.9744 18.1936 10.5003 17.0001 10.5003C15.8066 10.5003 14.6619 10.9744 13.818 11.8184C12.974 12.6623 12.4999 13.8069 12.4999 15.0005C12.4999 16.194 12.974 17.3386 13.818 18.1826C14.6619 19.0265 15.8066 19.5006 17.0001 19.5006Z",fill:i})}),(0,re.jsx)("defs",{children:(0,re.jsxs)("filter",{id:"filter0_d_1376_5164",x:"0",y:"0",width:"34",height:"34.001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,re.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,re.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,re.jsx)("feOffset",{dy:"2"}),(0,re.jsx)("feGaussianBlur",{stdDeviation:"2.5"}),(0,re.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,re.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,re.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1376_5164"}),(0,re.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1376_5164",result:"shape"})]})})]})},Nt=n(28891),St=function(e){var t=e.image,n=e.handleSettingsClick,r=e.index,i=(0,vt.i)().width;return(0,re.jsx)("div",{className:"mb-auto flex items-center justify-center",children:t.error?(0,re.jsxs)("div",{className:"flex flex-col items-center","data-testid":"preview-image-".concat(r,"-status-error-container"),children:[(0,re.jsx)(kt,{}),(0,re.jsxs)("div",{className:"capitalize",children:[(0,re.jsx)(se.vN,{keyName:"error"}),"!"]})]}):(0,re.jsxs)(re.Fragment,{children:["downloading"===t.state&&t.downloading&&(0,re.jsxs)("div",{className:"flex flex-col items-center","data-testid":"preview-image-".concat(r,"-status-downloading-container"),children:[(0,re.jsx)(wt,{width:30,height:30}),(0,re.jsx)("div",{className:"capitalize","data-testid":"preview-image-".concat(r,"-status-downloading-text"),children:(0,re.jsx)(se.vN,{keyName:"downloading"})})]}),"uploading"===t.state&&t.uploading&&(0,re.jsxs)("div",{className:"flex flex-col items-center","data-testid":"preview-image-".concat(r,"-status-uploading-container"),children:[(0,re.jsx)(Nt.r,{}),(0,re.jsx)("div",{className:"capitalize","data-testid":"preview-image-".concat(r,"-status-uploading-text"),children:(0,re.jsx)(se.vN,{keyName:"uploading"})})]}),"importing"===t.state&&t.importing&&(0,re.jsxs)("div",{className:"flex flex-col items-center","data-testid":"preview-image-".concat(r,"-status-importing-container"),children:[(0,re.jsx)(Nt.r,{}),(0,re.jsx)("div",{className:"capitalize","data-testid":"preview-image-".concat(r,"-status-importing-text"),children:(0,re.jsx)(se.vN,{keyName:"uploading"})})]}),"compressing"===t.state&&t.compressing&&(0,re.jsxs)("div",{className:"flex flex-col items-center","data-testid":"preview-image-".concat(r,"-status-compressing-container"),children:[(0,re.jsx)(bt.J,{}),(0,re.jsx)("div",{className:"capitalize","data-testid":"preview-image-".concat(r,"-status-compressing-text"),children:(0,re.jsx)(se.vN,{keyName:"compressing"})})]}),"compressed"===t.state&&t.compressed&&(0,re.jsxs)("div",{className:"flex items-center","data-testid":"preview-image-".concat(r,"-status-compressed-container"),children:[(0,re.jsx)(qe.e,{text:"".concat((0,We.k)((0,q.V)("new-size")),": ").concat(t.compressed.size),inactive:i<1024,children:(0,re.jsxs)("div",{className:"text-3xl font-bold","data-testid":"preview-image-".concat(r,"-status-compressed-text"),children:[t.compressed.quality>-1?"-":"+",Math.abs(t.compressed.quality),"%"]})}),(0,re.jsx)("div",{className:"group flex items-center",onClick:function(){n(t)},"data-testid":"preview-image-".concat(r,"-status-compressed-settings-icon-container"),children:(0,re.jsx)(qe.e,{text:(0,We.k)((0,q.V)("adjust-quality")),position:{y:"up"},children:(0,re.jsx)("div",{className:"mt-2",children:(0,re.jsx)(Ct,{hoverColor:"var(--dark-blue)"})})})})]})]})})},Ot=n(13680),It=function(e){var t=e.image,n=e.handleDownload,r=e.index;return(0,re.jsxs)("div",{className:"bg-white dark:bg-darkSurface-200 w-full rounded-xl text-center overflow-hidden",children:[t.error?(0,re.jsx)("div",{}):(0,re.jsxs)(re.Fragment,{children:["downloading"===t.state&&t.downloading&&(0,re.jsx)(Te.u,{text:"continuous"===t.downloading.progress?(0,We.k)((0,q.V)("downloading")):(0,re.jsx)(se.vN,{keyName:"percentage-size-progress-label",variables:{progress:t.downloading.progress,size:t.original.size}}),testId:"preview-image-".concat(r,"-updates-downloading"),percentage:"continuous"===t.downloading.progress?0:t.downloading.progress}),"uploading"===t.state&&t.uploading&&(0,re.jsx)(Te.u,{text:"continuous"===t.uploading.progress?(0,We.k)((0,q.V)("uploading")):(0,re.jsx)(se.vN,{keyName:"download-progress-label",variables:{progress:t.uploading.progress,size:t.original.size}}),testId:"preview-image-".concat(r,"-updates-importing"),percentage:"continuous"===t.uploading.progress?0:t.uploading.progress}),"compressed"===t.state&&t.compressed&&(0,re.jsx)("div",{className:"",children:(0,re.jsx)(Te.u,{text:(0,We.k)((0,q.V)("download")),percentage:0,isBoldOnHover:!0,handleClick:function(){return n(t)},testId:"preview-image-".concat(r,"-updates-compressed")})}),"added"===t.state&&(0,re.jsx)("div",{className:"flex items-center justify-center bg-white dark:bg-darkSurface-200 rounded-md py-2",children:(0,re.jsx)(Ot.K,{options:{color:"var(--dark-blue)"}})})]}),!t.error&&"compressing"===t.state&&t.compressing&&(0,re.jsx)("div",{className:"flex items-center justify-center bg-white dark:bg-darkSurface-200 rounded-md py-2",children:(0,re.jsx)(Ot.K,{options:{color:"var(--dark-blue)"}})}),!t.error&&"importing"===t.state&&t.importing&&("continuous"===t.importing.progress?(0,re.jsx)("div",{className:"flex items-center justify-center bg-white dark:bg-darkSurface-200 rounded-md py-2",children:(0,re.jsx)(Ot.K,{options:{color:"var(--dark-blue)"}})}):(0,re.jsx)("div",{className:"bg-white dark:bg-darkSurface-200 w-full rounded-xl text-center overflow-hidden",children:(0,re.jsx)(Te.u,{text:(0,re.jsx)(se.vN,{keyName:"percentage-size-progress-label",variables:{progress:t.importing.progress,size:t.original.size}}),percentage:t.importing.progress,"data-testid":"preview-image-".concat(r,"-updates-importing")})}))]})},_t=n(51556),Lt=function(e){var t=e.image,n=e.handleDelete,r=e.index;return(0,re.jsxs)("div",{className:"flex justify-between items-center mb-auto",children:[(0,re.jsx)("div",{className:"whitespace-nowrap text-sm font-bold",children:(0,re.jsxs)(qe.e,{text:t.title,position:{y:"down"},children:[(0,re.jsx)("div",{className:"hidden sm:block lg:hidden xl:block","data-testid":"preview-image-".concat(r,"-mobile-title"),children:(0,Ke.u)(t.title,8)}),(0,re.jsx)("div",{className:"sm:hidden lg:block xl:hidden","data-testid":"preview-image-".concat(r,"-desktop-title"),children:(0,Ke.u)(t.title,3)})]})}),(0,re.jsx)(Et,{image:t,handleDelete:n,index:r})]})},Et=function(e){var t=e.image,n=e.handleDelete,r=e.index;return(0,re.jsx)(qe.e,{text:(0,We.k)((0,q.V)("remove-image")),position:{y:"down"},children:(0,re.jsx)("div",{className:"group cursor-pointer bg-gray-50 dark:bg-darkSurface-200 p-1 rounded-full flex-grow-0 flex-shrink-0",onClick:function(e){e.stopPropagation(),n(t.id)},"data-testid":"preview-image-".concat(r,"-close-icon"),children:(0,re.jsx)(_t.T,{width:10,height:10,strokeWidth:3,className:"stroke-black dark:stroke-white"})})})},Zt=(0,G.memo)((function(e){var t=e.image,n=e.handleDelete,r=e.handleSelect,i=e.isSelected,a=e.handleDownload,s=e.handleSettingsClick,o=e.index,l=(0,G.useRef)(null),c=function(e){var t=(0,G.useState)(!1),n=t[0],r=t[1];return(0,G.useEffect)((function(){var t=e.current;if(t){var n=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&r(!0)}))}),{});return n.observe(t),function(){n.unobserve(t)}}}),[e.current]),n}(l);return(0,re.jsx)("div",{className:"group cursor-pointer relative rounded-xl  flex items-center justify-center bg-irGray-200 dark:bg-transparent p-2 text-white font-semibold ".concat(i?"lg:outline lg:outline-4 outline-irBlue-400 dark:outline-darkPrimary-100":"border-transparent"," dark:border dark:border-darkSurface-100 lg:dark:border-none"),onClick:function(e){e.stopPropagation(),r(t.id)},ref:l,"data-testid":"preview-image-".concat(o,"-container"),children:(0,re.jsxs)("div",{className:"relative w-full object-cover",children:[(0,re.jsx)("img",{src:c?(0,J.Z)(t.src):"",className:"rounded-xl object-cover mx-auto",style:{minHeight:"180px"},loading:"lazy","data-testid":"preview-".concat(o,"-image")},"".concat(t.id,"-preview-image")),(0,re.jsxs)("div",{className:"absolute inset-0 flex flex-col bg-black/40 rounded-xl p-2",children:[(0,re.jsx)(Lt,{image:t,handleDelete:n,index:o}),(0,re.jsx)(St,{image:t,handleSettingsClick:s,index:o}),(0,re.jsx)(It,{image:t,handleDownload:a,index:o})]})]})})}),(function(e,t){return JSON.stringify(e.image)===JSON.stringify(t.image)&&e.isSelected===t.isSelected})),Tt=n(39686),zt=!1,Bt=null,Rt=function e(){var t,n=(0,B.CG)(Z._,Dt),r=n.images,i=n.selectedImageId,a=null!==(t=r.find((function(e){return e.id===i})))&&void 0!==t?t:null,s=(0,B.TL)(),o=(0,_.p)().toast,l=(0,y.O)(),c=l.isOpen,d=l.toggle,u=l.onClose,f=l.open,p=H().compressImage,h=(0,Re.e)();return(0,Tt.n)((function(){zt||(zt=!0,h((0,x.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.h)();case 2:r.forEach((function(e){e.importTask&&p(e,e.importTask,(0,K.F)((0,N.Z)(e.file.file),B.h.getState().compress.compressionSettings))}));case 3:case"end":return e.stop()}}),e)})))))}),e.name),(0,G.useEffect)((function(){zt=!1}),[]),{images:r,handleSelect:function(e){var t=r.find((function(t){return t.id===e}));t&&"compressed"===t.state&&(s((0,E.qP)(e)),f())},handleDelete:function(e){"active"===B.h.getState().compress.downloadButtonState.state&&(s((0,E.ao)(e)),o({closeable:!0,position:"top-right",status:"error",time:I.w,text:"Image Deleted"}))},selectedImage:a,isOpen:c,toggle:d,close:u,handleApply:function(){a&&s((0,E.zn)(a.sliderValue))},handleDownload:function(e){"compressed"===e.state&&e.compressed&&(0,Ce.f)((0,J.Z)(e.compressed.src),e.title,!0)},handleSettingsClick:function(e){s((0,E.E_)({imageId:e.id})),Bt&&clearTimeout(Bt),Bt=setTimeout((function(){s((0,E.E_)({imageId:null}))}),3e3)}}},Dt=function(e,t){return JSON.stringify(e.images)===JSON.stringify(t.images)&&e.selectedImageId===t.selectedImageId},Pt=function(){var e=Rt(),t=e.images,n=e.handleSelect,r=e.handleDelete,i=e.close,a=e.isOpen,s=e.selectedImage,l=e.handleDownload,c=e.handleSettingsClick;return(0,re.jsxs)("div",{className:"lg:pb-4 h-full",children:[0===t.length&&(0,re.jsx)("div",{className:"lg:hidden first-letter:capitalize text-center mt-16 text-xl px-4","data-testid":"preview-list-no-selelcted-image-text",children:(0,re.jsx)(se.vN,{keyName:"click-on-plus-icon-to-add-images"})}),(0,re.jsxs)("div",{className:"grid grid-cols-2 items-start gap-4 px-4 bg-white dark:bg-darkSurface-100 mx-4 lg:mx-0 pt-4",children:[t.map((function(e,t){return(0,re.jsx)(Zt,{index:t,handleSelect:n,handleDownload:l,handleDelete:r,image:e,isSelected:e.id===(null===s||void 0===s?void 0:s.id),handleSettingsClick:c},e.id)})),(0,re.jsx)("div",{className:"lg:hidden",children:(0,re.jsx)(o.k,{isOpen:a,lockBackground:!1,onClose:i,initialHeight:"100vh",parentClassNames:"lg:hidden",titleBar:(0,re.jsxs)("div",{className:"relative w-full flex items-center gap-3 px-4 pt-2 text-black dark:text-white",children:[(0,re.jsx)("div",{className:"",onClick:i,children:(0,re.jsx)(xt,{})}),(0,re.jsx)("div",{className:"text-xl font-semibold capitalize",children:(0,re.jsx)(se.vN,{keyName:"adjust-quality"})})]}),disableDrag:!0,children:(0,re.jsx)("div",{className:"w-full h-full pt-4 text-black",children:(0,re.jsx)(st,{})})})})]})]})},Mt=function(e,t){return e.images.length===t.images.length&&e.selectedImageId===t.selectedImageId},Ft=function(){var e=function(){var e=(0,B.CG)(Z._,Mt);return{images:e.images,selectedImageId:e.selectedImageId}}(),t=e.images,n=e.selectedImageId;return(0,re.jsxs)("div",{className:"relative flex flex-col justify-between h-full",children:[(0,re.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between gap-4 px-4 border-b border-b-irGray-200 dark:border-b-darkSurface-600 h-[101px]",children:[(0,re.jsx)(ct,{}),t.length>0&&(0,re.jsxs)("div",{className:"flex items-center gap-4",children:[(0,re.jsx)(ut,{}),(0,re.jsx)(ft,{})]})]}),(0,re.jsxs)("div",{className:"w-full text-lg",children:[0===t.length&&(0,re.jsx)("div",{className:"p-4",children:(0,re.jsx)(gt,{})}),null===n&&0!==t.length&&(0,re.jsx)("div",{className:"p-4","data-testid":"no-selected-image-text",children:(0,re.jsx)(se.vN,{keyName:"no-selected-images-helper-text"})})]}),(0,re.jsx)("div",{className:"w-full flex-grow scroll overflow-x-hidden",children:(0,re.jsx)(Pt,{})}),(0,re.jsx)(pt,{})]})},Gt=n(98976),At=n(11163),Vt=n(32892),Ht=n(6248),Ut=n(85518),Jt=n(34038),qt=!1;function Kt(){qt=!1}var Yt=function(){var e=(0,B.CG)(Z._,(function(e,t){return e.fromDownloadPage===t.fromDownloadPage})).fromDownloadPage,t=function(){var e=(0,B.TL)(),t=H().compressImage,n=(0,_.p)(),r=n.toast,i=n.removeToast,a=(0,q.V)("loading-your-images"),s=function(){var e=(0,x.Z)(b().mark((function e(n){var s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r({closeable:!0,position:"top-right",status:"success",text:a}),e.next=3,(0,U.h)();case 3:if((c=e.sent).connected){e.next=7;break}return e.next=7,new Promise((function(e){c.on("connect",(function(){e(null)}))}));case 7:return e.next=9,o(n);case 9:e.sent.filter(Ht.n).map(l).filter(Ht.n).forEach(function(){var e=(0,x.Z)(b().mark((function e(n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.importTask){e.next=2;break}return e.abrupt("return");case 2:t(n,n.importTask,{type:"quality",maxFileSize:{value:0},quality:{value:T.K}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,x.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=(0,x.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:if((n=e.sent)&&"completed"===n.status&&n.result){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(t){var n,r,i=t.result;if(i){var a=(0,C.t)(i.size||0),s=B.h.getState().compress.compressionSettings,o={title:(0,Jt.J)(t),createdAt:new Date(t.createdAt),file:{file:new File([],(0,Jt.J)(t)),src:(null===(n=i.url)||void 0===n?void 0:n.toString())||"",size:a},format:(0,Ut.w)(t),hasExpired:!1,id:(0,S.w)(),importTask:t,original:{width:0,height:0,size:a},preview:{width:0,height:0,size:a},uploadType:"url",settings:{url:i.url},src:(0,J.Z)((null===(r=i.url)||void 0===r?void 0:r.toString())||""),quality:T.K,sliderValue:T.K,state:"imported",compressionSettings:s};return e((0,E.mN)(o)),o}},c=function(){var e=(0,x.Z)(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.U)("/api/tasks/".concat(t));case 3:if(n=e.sent,r=n.error,i=n.result,!r){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return{handleUrlTaskIds:s}}(),n=t.handleUrlTaskIds,r=(0,At.useRouter)();(0,G.useEffect)((function(){if(!qt){qt=!0;var t,i,a,s=(0,Gt.A)();if(s.length>0&&n(s),e||0!==s.length)(0,ye.S)("event","Editor Loaded",{event_category:"Image Compressor",event_label:"Editor Page"});else window.location.href="en"===r.locale?"/image-compressor":"/".concat(r.locale,"/").concat(null!==(t=null===(i=Vt.Z["/image-compressor"])||void 0===i?void 0:i[null!==(a=r.locale)&&void 0!==a?a:"en"])&&void 0!==t?t:"image-compressor")}}),[]),(0,G.useEffect)((function(){return r.events.on("routeChangeComplete",Kt),function(){return r.events.off("routeChangeComplete",Kt)}}),[])},Wt=function(){return Yt(),(0,re.jsx)(i.H,{navbar:(0,re.jsx)(a.EditorNavbar,{actionButton:null,url:"/image-compressor/editor"}),leftBar:(0,re.jsx)(Ft,{}),preview:(0,re.jsxs)("div",{className:"grid h-full max-h-full lg:overflow-y-hidden",children:[(0,re.jsx)("div",{className:"hidden overflow-x-hidden lg:block",children:(0,re.jsx)(st,{})}),(0,re.jsx)("div",{className:"h-full pt-2 lg:hidden",children:(0,re.jsx)(Pt,{})})]}),bottomMenu:(0,re.jsx)(Ee,{})})},Qt=n(9008),Xt=n.n(Qt),$t=n(95155),en=n(87414),tn=n(51731),nn=function(){return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Xt(),{children:(0,re.jsx)("title",{children:(0,q.V)("page-title")})}),(0,re.jsx)(tn.m,{children:(0,re.jsx)(Wt,{})})]})},rn=["compressor-editor","uploader"].concat((0,r.Z)($t.y)),an=!0,sn=function(){return(0,re.jsx)(en.i,{files:rn,children:(0,re.jsx)(nn,{})})}},84569:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/image-compressor/editor",function(){return n(65582)}])},37400:function(e){e.exports={slider:"CompressCompare_slider__tD7N2"}}},function(e){e.O(0,[1664,7350,9367,3979,152,2967,1731,4691,769,2409,5804,7293,9774,2888,179],(function(){return t=84569,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=editor-bc9416a34d9a5782.js.map