(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2285],{18204:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(85893),i=function(e){var t=e.text;return(0,r.jsx)("span",{className:"font-semibold",children:t})}},18707:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(85893),i=function(e){var t=e.width,n=e.height,i=(e.fill,e.className),o=null!==t&&void 0!==t?t:27,a=null!==n&&void 0!==n?n:24;return(0,r.jsxs)("svg",{width:o,height:a,viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i||"fill-white",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.06521 2.1733C5.02075 2.23561 5.00932 2.3082 5.03126 2.37655C5.74696 4.61219 6.95598 8.82853 6.95598 12C6.95598 15.1715 5.74721 19.387 5.03151 21.6227C5.00957 21.691 5.02075 21.7644 5.06521 21.8267C5.10845 21.8873 5.16382 21.913 5.22285 21.913H21.2108C21.2702 21.913 21.3255 21.8872 21.3686 21.8268C21.4128 21.7648 21.4245 21.6922 21.4024 21.6232C20.6867 19.3876 19.4777 15.1715 19.4777 12C19.4777 8.82853 20.6865 4.61297 21.4022 2.37733C21.4241 2.30898 21.4129 2.23561 21.3685 2.1733C21.3252 2.11269 21.2699 2.08696 21.2108 2.08696H5.22285C5.16382 2.08696 5.10845 2.11269 5.06521 2.1733ZM3.04392 3.01362C2.5772 1.5579 3.64462 0 5.22285 0H21.2108C22.7893 0 23.8569 1.55845 23.3895 3.0144C22.6687 5.2662 21.5647 9.1944 21.5647 12C21.5647 14.8057 22.6688 18.7341 23.3896 20.9858C23.8568 22.4423 22.7892 24 21.2108 24H5.22285C3.64462 24 2.5772 22.4421 3.04392 20.9864C3.76474 18.7347 4.86902 14.8059 4.86902 12C4.86902 9.1942 3.76475 5.26534 3.04392 3.01362Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.417453 5.68696C0.878491 5.34118 1.53254 5.43461 1.87832 5.89565C2.47789 6.69507 2.81928 7.7953 3.01933 8.83555C3.2246 9.90299 3.30441 11.036 3.30441 12C3.30441 12.964 3.2246 14.097 3.01933 15.1645C2.81928 16.2047 2.47789 17.3049 1.87832 18.1043C1.53254 18.5654 0.878491 18.6588 0.417453 18.313C-0.043585 17.9673 -0.137021 17.3132 0.208757 16.8522C0.522235 16.4342 0.789538 15.7083 0.969924 14.7703C1.14508 13.8595 1.21745 12.8621 1.21745 12C1.21745 11.1379 1.14508 10.1405 0.969924 9.22967C0.789538 8.29166 0.522235 7.5658 0.208757 7.14783C-0.137021 6.68679 -0.043585 6.03273 0.417453 5.68696Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 6.82609C8.5218 6.24979 8.98898 5.78261 9.56528 5.78261H16.8696C17.4459 5.78261 17.9131 6.24979 17.9131 6.82609C17.9131 7.40238 17.4459 7.86956 16.8696 7.86956H9.56528C8.98898 7.86956 8.5218 7.40238 8.5218 6.82609Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 12C8.5218 11.4237 8.98898 10.9565 9.56528 10.9565H16.8696C17.4459 10.9565 17.9131 11.4237 17.9131 12C17.9131 12.5763 17.4459 13.0435 16.8696 13.0435H9.56528C8.98898 13.0435 8.5218 12.5763 8.5218 12Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5218 16.8696C8.5218 16.2933 8.98898 15.8261 9.56528 15.8261H12.0001C12.5764 15.8261 13.0435 16.2933 13.0435 16.8696C13.0435 17.4459 12.5764 17.913 12.0001 17.913H9.56528C8.98898 17.913 8.5218 17.4459 8.5218 16.8696Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.0175 5.68696C26.4785 6.03274 26.5719 6.68679 26.2261 7.14783C25.9127 7.5658 25.6454 8.29166 25.465 9.22967C25.2898 10.1405 25.2175 11.1379 25.2175 12C25.2175 13.704 25.5 15.3623 26.3247 17.0116C26.5824 17.5271 26.3735 18.1538 25.858 18.4116C25.3426 18.6693 24.7158 18.4604 24.4581 17.9449C23.4566 15.942 23.1305 13.9482 23.1305 12C23.1305 11.036 23.2103 9.90299 23.4156 8.83555C23.6156 7.7953 23.957 6.69507 24.5566 5.89565C24.9024 5.43461 25.5564 5.34118 26.0175 5.68696Z"})]})}},14124:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var r=n(67294),i=n(8881),o=n(33284),a=n(99158),s="black",c=n(85893),l=function(e){var t=e.children,n=e.text,l=e.position,d=e.containerClassNames,u=e.inactive,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{y:"up"},n=arguments.length>2?arguments[2]:void 0,c=(0,r.useRef)(null),l=(0,r.useMemo)((function(){return String.fromCharCode(65+Math.floor(26*Math.random())+Date.now())}),[]),d="".concat(l,"_arrow"),u=(0,o.O)(),h=u.isOpen,f=u.open,p=u.onClose;(0,i.t)(c,h,p);var v=(0,a.i)().width;(0,r.useEffect)((function(){if(c.current){var e=g(),t=j();return h?!x(e,c.current).hideArrow&&w(t,c.current):(m(e),k(t)),function(){m(g()),k(j())}}}),[h,e]);var g=function(){var e=document.getElementById(l);if(e)return e;var t=document.createElement("div");return t.style.zIndex="9999",t.id=l,n&&t.setAttribute("data-testid",n),document.body.appendChild(t),t},m=function(e){e.remove()},x=function(t,n){t.style.display="inline-block",t.style.position="fixed";var r=document.createElement("div");r.innerHTML="".concat(e),r.style.color="white",r.style.minWidth="100px",r.style.textAlign="center",t.appendChild(r),t.style.wordBreak="break-all",t.style.backgroundColor=s,t.style.padding="1rem",t.style.borderRadius="5px";var i=C(t,n),o=i.left,a=i.top,c=i.hideArrow;return t.style.left="".concat(o,"px"),t.style.top="".concat(a,"px"),{hideArrow:c}},w=function(e,t){e.style.backgroundColor=s,e.style.width="16px",e.style.height="16px",e.style.display="inline-block",e.style.zIndex="9999",e.style.position="fixed",e.style.transform="rotate(45deg)",document.body.appendChild(e);var n=b(e,t),r=n.left,i=n.top;return e.style.left="".concat(r,"px"),e.style.top="".concat(i,"px"),e},b=function(e,n){var r,i,o=n.getBoundingClientRect(),a=o.left,s=o.top;return s-=e.getBoundingClientRect().height,a+=(null!==(r=null===(i=c.current)||void 0===i?void 0:i.getBoundingClientRect().width)&&void 0!==r?r:0)/2-8,"down"===t.y&&(s=n.getBoundingClientRect().y+n.getBoundingClientRect().height+5),{left:a,top:s}},k=function(e){e.remove()},j=function(){var e=document.getElementById(d);if(e)return e;var t=document.createElement("div");return t.id=d,t},C=function(e,n){var r,i,o=!1,a=n.getBoundingClientRect(),s=a.left,l=a.top,d=a.height,u=e.getBoundingClientRect(),h=u.width,f=u.height;return l-=10+e.getBoundingClientRect().height,s-=h/2,s+=(null!==(r=null===(i=c.current)||void 0===i?void 0:i.getBoundingClientRect().width)&&void 0!==r?r:0)/2,window.innerWidth<h+s&&(s-=Math.abs(window.innerWidth-(s+h))),s<0&&(s=0),"down"===t.y&&(l=n.getBoundingClientRect().y+n.getBoundingClientRect().height+10),l<=0&&(l=d+f+l+20,o=!0),{left:s,top:l,hideArrow:o}};return{width:v,show:f,hide:p,parentRef:c}}(n,l,e.testId),f=h.show,p=h.hide,v=h.parentRef;return u?(0,c.jsx)(c.Fragment,{children:t}):(0,c.jsx)("div",{className:"cursor-pointer inline-block select-none ".concat(d),onMouseEnter:f,onMouseLeave:p,onClick:f,ref:v,children:t})}},46080:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=null,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=function(t){r&&clearTimeout(r),r=setTimeout((function(){t()}),e)};return t}},99158:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(67294);function i(){var e=(0,r.useState)({width:window.innerWidth,height:window.innerHeight}),t=e[0],n=e[1];return o((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}var o=r.useLayoutEffect},6006:function(e,t,n){"use strict";var r=n(50029),i=n(87794),o=n.n(i),a=n(9669),s=n.n(a)().create({headers:{}});s.interceptors.request.use(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),t.Z=s},72010:function(e,t,n){"use strict";n.d(t,{q:function(){return m}});var r=n(50029),i=n(92777),o=n(82262),a=n(59499),s=n(87794),c=n.n(s),l=n(26758),d=null,u=null,h=null,f=!1,p=!1,v=[],g=[],m=function(){function e(t,n){var o=this;(0,i.Z)(this,e),(0,a.Z)(this,"handlePendingTasksSubscribe",(function(){v.forEach((function(e){o.subscribe(e.job)})),v=[]})),(0,a.Z)(this,"handleJobComplete",(function(e){g.forEach((function(t){t.job.id===e.id&&t.options.handleJobComplete(e)}))})),(0,a.Z)(this,"handleJobFailed",(function(e){g.forEach((function(t){t.job.id===e.id&&t.options.handleJobFail(e)}))})),(0,a.Z)(this,"handleReconnect",(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.forEach((function(e){return e.options.handleReconnect&&e.options.handleReconnect()})),o.removeOfflineLimitWatcher();case 2:case"end":return e.stop()}}),e)})))),(0,a.Z)(this,"handleDisconnect",(function(){u=new Date,o.setOfflineLimitWatcher(),g.forEach((function(e){return e.options.handleDisconnect&&e.options.handleDisconnect()}))})),g.push({job:t,options:n}),this.initSocket(t,n),this.setOfflineLimitWatcher(),this.addInternetEventListeners(),this.addCypressEventListener(t,n)}return(0,o.Z)(e,[{key:"initSocket",value:function(){var e=(0,r.Z)(c().mark((function e(t,n){var r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||p){e.next=3;break}return v.push({job:t,options:n}),e.abrupt("return");case 3:if(!d){e.next=6;break}return this.subscribe(t),e.abrupt("return");case 6:return f=!0,e.next=9,(0,l.h)();case 9:(d=e.sent).connected&&this.handleSocketConnect(d,t),d.on("connect",(function(){d&&r.handleSocketConnect(d,t)})),d.on("disconnect",this.handleDisconnect),d.on("reconnect",this.handleReconnect);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleSocketConnect",value:function(e,t){var n=this;f=!1,p=!0,this.subscribe(t),this.handlePendingTasksSubscribe(),null===e||void 0===e||e.on("job_failed",(function(e){n.handleJobFailed(e.job)})),null===e||void 0===e||e.on("job_started",(function(e){})),null===e||void 0===e||e.on("job_completed",(function(e){n.handleJobComplete(e.job)}))}},{key:"subscribe",value:function(e){var t;null===(t=d)||void 0===t||t.emit("subscribe","job.".concat(e.id))}},{key:"addInternetEventListeners",value:function(){window.addEventListener("online",this.handleReconnect),window.addEventListener("offline",this.handleDisconnect)}},{key:"addCypressEventListener",value:function(e,t){window.Cypress&&document.body.addEventListener("job_failed.".concat(e.id),(function(e){t.handleJobFail(e.job)}))}},{key:"setOfflineLimitWatcher",value:function(){var e=this;h||(h=setInterval((function(){u&&(new Date).getTime()-u.getTime()>=6e5&&(e.removeOfflineLimitWatcher(),g.forEach((function(e){return e.options.onOfflineLimitReach&&e.options.onOfflineLimitReach(e.job)})))}),1e3))}},{key:"removeOfflineLimitWatcher",value:function(){h&&clearInterval(h)}}]),e}()},43061:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=function(e){return e.resizeBackgroundImport}},71113:function(e,t,n){"use strict";n.d(t,{bo:function(){return i},iZ:function(){return a},mc:function(){return s},wA:function(){return o}});var r=n(74805).B.actions,i=r.setPreview,o=(r.setSrc,r.setImageInfo),a=r.setOriginal,s=r.reset},34796:function(e,t,n){"use strict";n.d(t,{ga:function(){return r}});var r=function(e,t){var n=t.hitType,r=t.page,i=t.title;if(console.log("ga event: ".concat(e,", hitType: ").concat(n,", page: ").concat(r,", title: ").concat(i)),window.ga&&window.ga.getAll){var o,a,s=null!==(o=null===(a=window.ga.getAll()[0])||void 0===a?void 0:a.get("name"))&&void 0!==o?o:"";window.ga("".concat(s,".").concat(e),{hitType:n,page:r,title:i})}else var c=setInterval((function(){if(window.ga&&window.ga.getAll){var t,o,a=null!==(t=null===(o=window.ga.getAll()[0])||void 0===o?void 0:o.get("name"))&&void 0!==t?t:"";window.ga("".concat(a,".").concat(e),{hitType:n,eventAction:"click",page:r,title:i}),clearInterval(c)}}),50)}},96517:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var r=function(e,t,n){if(window.gtag)window.gtag(e.toString(),t,n);else var r=setInterval((function(){window.gtag&&(window.gtag(e.toString(),t,n),clearInterval(r))}),50)}},85518:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r=function(e){var t,n,r;return null!==(t=e.result)&&void 0!==t&&null!==(n=t.url)&&void 0!==n&&n.toString()&&(null===(r=e.result.url.toString().split("/").at(-1))||void 0===r?void 0:r.split(".")[1])||""}},26758:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var r,i=n(50029),o=n(87794),a=n.n(o),s=n(6006),c=n(9367),l=null,d=[],u=!1,h={LIVE:"https://notification.freeconvert.com/",SANDBOX:"https://dev-notification.freeconvert.com/",PREPROD:"https://preprod-notification.freeconvert.com/"},f={LIVE:"https://api.freeconvert.com/v1/account/guest",SANDBOX:"https://dev-api.freeconvert.com/v1/account/guest",PREPROD:"https://preprod-api.freeconvert.com/v1/account/guest"},p=null!==(r="LIVE")?r:"",v=function(){var e=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return",l);case 2:if(!u){e.next=4;break}return e.abrupt("return",new Promise((function(e){d.push(e)})));case 4:return e.next=6,m();case 6:return t=e.sent,l=(0,c.io)(h[p],{transports:["websocket"],auth:{token:"Bearer ".concat(t)}}),d.forEach((function(e){return l&&e(l)})),d=[],u=!1,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g="";function m(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return",g);case 2:return e.next=4,s.Z.get(f[p]);case 4:return g=e.sent.data,e.abrupt("return",g);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},15230:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return se},default:function(){return ce}});var r=n(27812),i=n(38813),o=n(79733),a=n(82566),s=n(4713),c=n(18707),l=n(85893),d=function(e){var t=e.width,n=e.height,r=null!==t&&void 0!==t?t:43,i=null!==n&&void 0!==n?n:43;return(0,l.jsx)("svg",{width:r,height:i,viewBox:"0 0 43 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M41.3996 8.87739L34.1218 1.59961L5.01072 30.7107L2.09961 40.8996L12.2885 37.9885L41.3996 8.87739ZM28.2996 7.42183L35.5774 14.6996L28.2996 7.42183ZM5.01072 30.7107L12.2885 37.9885L5.01072 30.7107Z",className:"stroke-black dark:stroke-white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})},u=function(e){var t=e.width,n=e.height,r=null!==t&&void 0!==t?t:40,i=null!==n&&void 0!==n?n:40;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:r,height:i,xmlSpace:"preserve",className:"fill-black dark:fill-white",children:(0,l.jsxs)("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fillRule:"nonzero",opacity:1},children:[(0,l.jsx)("path",{d:"M24.731 57.127v-4.129a.807.807 0 0 0-.806-.806H20.05v5.74h3.876a.805.805 0 0 0 .805-.805zM39.841 63.508V53.286c0-.604-.491-1.094-1.094-1.094H35.16v12.41h3.587a1.094 1.094 0 0 0 1.094-1.094z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fillRule:"nonzero",opacity:1},transform:"matrix(2.81 0 0 2.81 1.407 1.407)"}),(0,l.jsx)("path",{d:"M81.979 17.233 66.215 1.469A5.044 5.044 0 0 0 62.67 0H20.59a5.019 5.019 0 0 0-5.013 5.013v36.168h-4.28c-2.617 0-4.745 2.084-4.745 4.646v25.139c0 2.563 2.128 4.646 4.745 4.646h4.28v9.374a5.019 5.019 0 0 0 5.013 5.013h57.844a5.019 5.019 0 0 0 5.013-5.013v-64.21a4.976 4.976 0 0 0-1.468-3.543zM18.05 68.603a2 2 0 0 1-2-2v-16.41a2 2 0 0 1 2-2h5.876a4.811 4.811 0 0 1 4.806 4.806v4.129a4.812 4.812 0 0 1-4.806 4.806H20.05v4.67a2 2 0 0 1-2 1.999zm61.397 16.384c0 .559-.454 1.013-1.013 1.013H20.59a1.014 1.014 0 0 1-1.013-1.013v-9.374h44.425c2.616 0 4.745-2.084 4.745-4.646V45.828c0-2.562-2.129-4.646-4.745-4.646H19.578V5.013c0-.559.454-1.013 1.012-1.013h41.328v12.784a4.75 4.75 0 0 0 4.745 4.745h12.784v63.458zM31.16 66.603v-16.41a2 2 0 0 1 2-2h5.587a5.1 5.1 0 0 1 5.094 5.094v10.222a5.1 5.1 0 0 1-5.094 5.095H33.16a2.002 2.002 0 0 1-2-2.001zm23.095-10.206a2 2 0 0 1 0 4h-3.686v6.205a2 2 0 0 1-4 0v-16.41a2 2 0 0 1 2-2h8.682a2 2 0 0 1 0 4h-6.682v4.205h3.686z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fillRule:"nonzero",opacity:1},transform:"matrix(2.81 0 0 2.81 1.407 1.407)"})]})})},h=function(e){var t=e.width,n=e.height,r=null!==t&&void 0!==t?t:36,i=null!==n&&void 0!==n?n:40;return(0,l.jsx)("svg",{width:r,height:i,viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M17.0402 2.8602C12.7835 2.86723 8.6642 4.36773 5.40023 7.10019V0.700195H2.14023V13.7002H15.1402V10.4202H6.60023C8.85357 8.21857 11.746 6.7867 14.863 6.32976C17.98 5.87281 21.1617 6.41423 23.9522 7.87645C26.7426 9.33867 28.9986 11.6466 30.3969 14.4697C31.7952 17.2927 32.264 20.4859 31.7362 23.5917C31.2084 26.6975 29.711 29.5565 27.4587 31.7591C25.2063 33.9618 22.3145 35.3949 19.1977 35.8532C16.0809 36.3116 12.899 35.7715 10.1079 34.3105C7.31679 32.8496 5.05978 30.5426 3.66023 27.7202L0.740234 29.1802C2.18407 32.0893 4.37927 34.5597 7.09855 36.3355C9.81783 38.1112 12.9623 39.1279 16.2065 39.2801C19.4507 39.4324 22.6766 38.7148 25.5502 37.2015C28.4239 35.6882 30.8408 33.4343 32.5508 30.6732C34.2608 27.9121 35.2016 24.7441 35.2759 21.4972C35.3503 18.2503 34.5554 15.0425 32.9735 12.206C31.3917 9.36955 29.0805 7.00743 26.2791 5.36425C23.4777 3.72106 20.288 2.85654 17.0402 2.8602Z",className:"fill-black dark:fill-white"})})},f=n(14124),p=n(67294),v=(0,p.createContext)({job:null,setJob:function(){}}),g=function(e){var t=e.children,n=e.job,r=(0,p.useState)(n),i=r[0],o=r[1];return(0,l.jsx)(v.Provider,{value:{job:i,setJob:o},children:t})},m=n(41664),x=n.n(m),w=n(11163),b=n(43061),k=n(71113),j=function(e){return e.resizeDownload},C=n(90177),y=function(){var e=(0,C.CG)(j,N).image,t=(0,C.CG)(b.p).task,n=(0,C.TL)(),r=(0,p.useContext)(v).job,i=(0,w.useRouter)();return{image:e,handleReEditClick:function(){var e,t;if(r){var o=null===(e=r.tasks)||void 0===e?void 0:e.find((function(e){return"crop"===e.name})),a=null===(t=r.tasks)||void 0===t?void 0:t.find((function(e){return"resize"===e.name})),s=o&&o.dependsOn?o.dependsOn[0]:a&&a.dependsOn?a.dependsOn[0]:"";s&&(n((0,k.mc)()),i.push("/resize/editor/".concat(s)))}},backgroundImportTask:t}},N=function(e,t){return JSON.stringify(e.image)===JSON.stringify(t.image)},R=function(e){var t=e.width,n=e.height,r=null!==t&&void 0!==t?t:30,i=null!==n&&void 0!==n?n:30;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 1200",width:r,height:i,xmlSpace:"preserve",className:"fill-black dark:fill-white",children:(0,l.jsx)("path",{d:"m910.143 91.119-16.916 81.053a196.327 196.327 0 0 0-49.691 14.743l-58.229-58.825-66.309 53.661 45.354 69.303c-10.104 13.862-18.357 29.104-24.623 45.503l-82.85-.374-8.906 84.87 81.055 16.914c2.723 17.329 7.746 33.897 14.742 49.545l-58.824 58.376 53.66 66.31 69.303-45.43a195.996 195.996 0 0 0 45.504 24.698l-.375 82.774 84.871 8.904 16.838-81.053c17.346-2.722 34.035-7.666 49.695-14.669l58.301 58.825 66.309-53.735-45.428-69.229a195.81 195.81 0 0 0 24.697-45.503l82.773.3 8.906-84.87-81.053-16.765c-2.725-17.354-7.66-34.103-14.67-49.77l58.824-58.227-53.734-66.309-69.229 45.354c-13.869-10.111-29.17-18.428-45.578-24.697l.373-82.774-84.79-8.903zm14.068 197.131c2.668.009 5.373.09 8.084.374 43.355 4.555 74.756 43.384 70.201 86.741-4.555 43.355-43.385 74.83-86.742 70.274-43.355-4.555-74.83-43.384-70.275-86.739 4.269-40.647 38.724-70.789 78.732-70.65zm-608.981 6.96-11.375 112.711c-23.205 6.187-45.185 15.324-65.486 27.092l-87.714-71.696-82.55 82.55 71.698 87.788c-11.768 20.308-20.91 42.272-27.092 65.484L0 610.44v116.751l112.71 11.376a268.028 268.028 0 0 0 27.092 65.41l-71.698 87.789 82.55 82.55 87.789-71.697a268.061 268.061 0 0 0 65.411 27.093l11.375 112.71h116.752l11.301-112.71c23.212-6.183 45.178-15.325 65.484-27.093l87.788 71.697 82.55-82.55-71.697-87.714c11.768-20.302 20.906-42.281 27.092-65.485l112.711-11.376V610.44L634.5 599.138c-6.186-23.225-15.314-45.243-27.092-65.561l71.697-87.714-82.55-82.549-87.713 71.696c-20.316-11.775-42.336-20.905-65.562-27.093l-11.301-112.71H315.23v.003zm58.376 265.61c59.649 0 107.996 48.348 107.996 107.996 0 59.647-48.347 107.994-107.996 107.994-59.648 0-107.996-48.347-107.996-107.994 0-59.648 48.348-107.996 107.996-107.996zm495.673 144.219-11.9 59.273c-12.188 1.993-23.873 5.653-34.877 10.776l-41.012-43.033-46.553 39.292 31.883 50.667c-7.102 10.143-12.959 21.308-17.363 33.306l-58.15-.301-6.287 62.118 56.955 12.35a147.66 147.66 0 0 0 10.328 36.298l-41.312 42.659 37.721 48.497 48.721-33.229a135.985 135.985 0 0 0 31.957 18.037l-.225 60.621 59.648 6.511 11.824-59.349c12.189-1.991 23.869-5.579 34.875-10.702l41.014 43.033 46.625-39.291-31.957-50.668c7.104-10.139 12.959-21.312 17.363-33.306l58.229.226 6.211-62.043-56.953-12.35c-1.914-12.695-5.402-24.911-10.328-36.372l41.311-42.585-37.719-48.572-48.646 33.229c-9.746-7.396-20.498-13.449-32.031-18.036l.299-60.546-59.651-6.51zm9.879 144.144c1.873.009 3.783.092 5.688.301 30.473 3.331 52.521 31.745 49.32 63.465-3.201 31.719-30.449 54.748-60.922 51.416s-52.596-31.746-49.395-63.466c3.001-29.738 27.19-51.818 55.309-51.716z"})})},L=n(82598),S=n(85518),z=30,Z=function(){var e,t,n={job:(0,p.useContext)(v).job}.job,r=y().handleReEditClick;if("completed"!==(null===n||void 0===n?void 0:n.status)||!n.tasks||null===(e=n.tasks[0])||void 0===e||!e.result)return null;var i=(0,S.w)(n.tasks[0]),o="jpeg"===i?"jpg":i.toLowerCase(),g="jpg"===o||"jpeg"===o||"png"===o;return(0,l.jsxs)("div",{className:"flex justify-between border border-[#F0F0F0] dark:border-darkSurface-300",children:[(0,l.jsx)(f.e,{text:(0,a.V)("re-edit-tooltip"),containerClassNames:"flex-grow",children:(0,l.jsx)("div",{className:"py-4 px-4 dark:bg-darkSurface-200 border-r border-r-[#F0F0F0] dark:border-r-darkSurface-300 flex items-center justify-center cursor-pointer",onClick:r,children:(0,l.jsx)(d,{width:z,height:z})})}),(0,l.jsx)(f.e,{text:(0,s.k)((0,a.V)("resize-another-image")),containerClassNames:"flex-grow",children:(0,l.jsx)(x(),{href:"/",children:(0,l.jsx)("a",{children:(0,l.jsx)("div",{className:"py-4 px-4 dark:bg-darkSurface-200 border-r border-r-[#F0F0F0] dark:border-r-darkSurface-300 flex items-center justify-center",children:(0,l.jsx)(h,{width:z,height:z})})})})}),g&&(0,l.jsx)(f.e,{text:(0,a.V)("compress-text"),containerClassNames:"flex-grow",children:(0,l.jsx)(x(),{href:"/image-compressor/editor?taskIds=".concat(null===(t=(0,L.Y)(n))||void 0===t?void 0:t.id),children:(0,l.jsx)("a",{target:"_blank",children:(0,l.jsx)("div",{className:"py-4 px-4 dark:bg-darkSurface-200 border-r border-r-[#F0F0F0] dark:border-r-darkSurface-300 flex items-center justify-center",children:(0,l.jsx)(c.J,{className:"fill-black dark:fill-white",width:z,height:z})})})})}),"jpg"!==o&&(0,l.jsx)(f.e,{text:(0,a.V)("convert-to-jpg"),containerClassNames:"flex-grow",children:(0,l.jsx)(x(),{href:"https://www.freeconvert.com/".concat(o,"-to-jpg"),children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,l.jsx)("div",{className:"py-4 px-4 dark:bg-darkSurface-200 border-r border-r-[#F0F0F0] dark:border-r-darkSurface-300 flex items-center justify-center",children:(0,l.jsx)(R,{})})})})}),(0,l.jsx)(f.e,{text:(0,a.V)("ext-to-pdf",{ext:o.toUpperCase()}),containerClassNames:"flex-grow",children:(0,l.jsx)(x(),{href:"https://www.freeconvert.com/".concat(o,"-to-pdf"),children:(0,l.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,l.jsx)("div",{className:"py-4 px-4 dark:bg-darkSurface-200 flex items-center justify-center",children:(0,l.jsx)(u,{width:z,height:z})})})})})]})},E=function(e){var t=e.backgroundUploadProgress,n=e.handleDownload,r=e.isImporting,c=e.isProcessing,d=!c&&!r;return(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"flex justify-center dark:bg-darkSurface-200 border border-irGray-200 dark:border-darkSurface-300 py-4",children:(0,l.jsxs)("div",{className:"".concat(d?"cursor-pointer":"cursor-progress"," inline-flex gap-4 items-center justify-center text-white sm:text-xl lg:text-[2rem] font-semibold ").concat(d?"bg-irBlue-200 dark:bg-darkPrimary-100 hover:bg-irBlue-400":"bg-irGray-600 dark:bg-darkSurface-600"," py-4 rounded-lg px-8 lg:px-16 mx-4"),onClick:n,"data-testid":"download-button",children:[(0,l.jsx)("div",{className:"",children:d?(0,l.jsx)(o._,{width:25,height:25}):c?(0,l.jsx)(i.a,{className:"stroke-white",width:25,height:25}):null}),(0,l.jsx)("div",{className:"whitespace-nowrap capitalize","data-testid":"download-button-text",children:r?(0,s.k)("".concat((0,a.V)("common:uploading")," ").concat(t,"%")):c?(0,s.k)((0,a.V)("common:processing")):(0,s.k)((0,a.V)("common:download-image"))})]})}),(0,l.jsx)(Z,{})]})},I=n(56726),_=n(15062),B=n(18204),J=function(e){var t,n=e.image,r=e.backgroundImportTask;return 0===n.preview.width||0===n.preview.height?null:(0,l.jsx)("div",{className:"dark:bg-darkSurface-200 border border-irGray-200 dark:border-darkSurface-300",children:(0,l.jsx)("div",{className:"flex flex-col gap-4 items-center p-4 w-full",children:(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full flex-col gap-2 border-r border-gray-200 dark:border-r-darkSurface-300",children:[(0,l.jsxs)("div",{className:"",children:[(0,s.k)((0,a.V)("original"))," :",(0,l.jsx)("span",{className:"whitespace-nowrap","data-testid":"original-dimensions",children:(0,l.jsx)(B.d,{text:" ".concat(n.original.width," X ").concat(n.original.height)})})]}),(0,l.jsxs)("div",{"data-testid":"original-size",children:[(0,s.k)((0,a.V)("size"))," :"," ",(0,l.jsx)(B.d,{text:" ".concat(null!==r&&void 0!==r&&null!==(t=r.result)&&void 0!==t&&t.size?(0,I.t)(r.result.size):n.original.size)})]})]}),(0,l.jsxs)("div",{className:"flex items-end w-full flex-col gap-2",children:[(0,l.jsxs)("div",{"data-testid":"preview-dimensions",children:[(0,s.k)((0,a.V)("output")),":",(0,l.jsx)("span",{className:"whitespace-nowrap",children:(0,l.jsx)(B.d,{text:" ".concat(Math.ceil(n.preview.width)," X ").concat(Math.ceil(n.preview.height))})})]}),(0,_.B)(n.preview.size)>0&&(0,l.jsxs)("div",{"data-testid":"preview-size",children:[(0,s.k)((0,a.V)("size")),": ",(0,l.jsx)(B.d,{text:" ".concat(n.preview.size)})]})]})]})})})},M=function(){var e=y(),t=e.image,n=e.backgroundImportTask;return(0,l.jsx)(J,{image:t,backgroundImportTask:n})},D=n(30491),F=n(50029),O=n(87794),P=n.n(O),H=n(92777),T=n(82262),V=n(59499),A=n(31458),W=n(72010),U=function(){function e(t,n){var r=this;(0,H.Z)(this,e),(0,V.Z)(this,"job",void 0),(0,V.Z)(this,"options",void 0),(0,V.Z)(this,"isComplete",!1),(0,V.Z)(this,"handleJobComplete",function(){var e=(0,F.Z)(P().mark((function e(t){var n,i;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isComplete){e.next=2;break}return e.abrupt("return");case 2:if("completed"===t.status){e.next=13;break}return e.next=5,(0,A.U)("/api/jobs/".concat(t.id));case 5:if(n=e.sent,i=n.result,!n.error&&i){e.next=10;break}return e.abrupt("return");case 10:return r.isComplete=!0,r.options.handleJobComplete(i),e.abrupt("return");case 13:r.isComplete=!0,r.options.handleJobComplete(t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,V.Z)(this,"handleJobFail",(function(e){r.options.handleJobFail(e)})),this.job=t,this.options=n,this.init()}return(0,T.Z)(e,[{key:"init",value:function(){var e=(0,F.Z)(P().mark((function e(){var t=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){return t.checkStatus()}),5e3),this.initSocket();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSocket",value:function(){var e=(0,F.Z)(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new W.q(this.job,{handleDisconnect:this.options.handleDisconnect,handleReconnect:this.options.handleReconnect,handleJobComplete:this.handleJobComplete,handleJobFail:this.handleJobFail,onOfflineLimitReach:this.options.onOfflineLimitReach});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkStatus",value:function(){var e=(0,F.Z)(P().mark((function e(){var t,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComplete){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,A.U)("/api/jobs/".concat(this.job.id));case 4:if(t=e.sent,n=t.result,!t.error&&n){e.next=10;break}return this.handleJobFail(this.job),e.abrupt("return");case 10:if("completed"!==n.status){e.next=13;break}return this.handleJobComplete(n),e.abrupt("return");case 13:"failed"===n.status&&this.options;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),G=n(8986),X=n(34796),q=n(96517),Y=n(46080),K=n(93127),Q=n(34038),$=n(3200),ee=n(10131),te=function(){var e,t=function(){var e=(0,p.useContext)(v),t=e.job,n=e.setJob,r=(0,C.TL)(),i=(0,p.useState)(!0),o=i[0],a=i[1],s=(0,C.CG)(j).image,c=(0,C.CG)(b.p),l=c.isImporting,d=c.progress,u=c.importComplete,h=c.task,f=(0,p.useRef)(0),g=(0,p.useState)(""),m=g[0],x=g[1],y=(0,w.useRouter)().locale,N=(0,Y.e)(1e3);(0,p.useEffect)((function(){N((function(){if(t){var e=!1;new U(t,{handleJobComplete:function(){var t=(0,F.Z)(P().mark((function t(i){var o,s,c,l,d,u,h,p,v,g,m,w,b;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=i.id,t.next=3,(0,A.U)("/api/jobs/".concat(h));case 3:if((p=t.sent).result&&!p.error){t.next=6;break}return t.abrupt("return");case 6:if(v=p.result,!e){t.next=9;break}return t.abrupt("return");case 9:if(!(f.current>1)){t.next=11;break}return t.abrupt("return");case 11:if(e=!0,g=null===(o=v.tasks)||void 0===o?void 0:o.find((function(e){return"resize"===e.name})),m=null===(s=v.tasks)||void 0===s?void 0:s.find((function(e){return"exportTask"===e.name})),w=null===m||void 0===m||null===(c=m.result)||void 0===c||null===(l=c.url)||void 0===l?void 0:l.toString()){t.next=17;break}return t.abrupt("return");case 17:r((0,k.wA)({format:g&&(0,S.w)(g)||"jpg",src:w,title:g?(0,Q.J)(g):""})),x((0,K.Z)(w)),b=null!==(d=null===g||void 0===g||null===(u=g.result)||void 0===u?void 0:u.size)&&void 0!==d?d:0,r((0,k.bo)({size:(0,I.t)(b)})),a(!1),n(v),f.current++,R();case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),handleJobFail:function(){a(!1)}})}}))}),[]);var R=function(){f.current>1||((0,X.ga)("send",{hitType:"pageview",page:"/vp/image_resizer/download_clicked/",title:"Image Resizer Download Clicked"}),(0,q.S)("event","Image Downloaded",{event_category:"Image Resizer",event_label:"Download Page"}))};return(0,p.useEffect)((function(){"failed"!==(null===t||void 0===t?void 0:t.status)||l||u||h||(window.location.href=y?"en"===y?"/":"/".concat(y):"/")}),[t]),{isProcessing:o,handleDownload:function(){!o&&s.src&&(f.current++,(0,G.f)(null!==m&&void 0!==m?m:s.src,s.title,!0),R())},isImporting:l,backgroundUploadProgress:d}}(),n=t.isProcessing,r=t.handleDownload,i=t.isImporting,o=t.backgroundUploadProgress,a=(0,p.useContext)(v).job;return(0,l.jsx)(D.m,{downloadButton:(0,l.jsx)(E,{backgroundUploadProgress:o,handleDownload:r,isImporting:i,isProcessing:n}),preview:(0,l.jsx)("div",{className:"flex flex-col gap-8 mt-4",children:(0,l.jsx)(M,{})}),link:{href:"https://imageresizer.com/",title:"Image Resizer"},title:n||i?(0,l.jsx)("div",{className:"flex justify-center items-center gap-2 capitalize mt-8 flex-grow",children:(0,l.jsx)("div",{className:"text-3xl font-semibold text-center","data-testid":"download-page-title",children:(0,l.jsx)(ee.vN,{keyName:"title-loading"})})}):(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2 capitalize mt-8 flex-grow",children:[(0,l.jsx)($.w,{}),(0,l.jsx)("div",{className:"text-3xl font-semibold text-center","data-testid":"download-page-title",children:(0,l.jsx)(ee.vN,{keyName:"title"})})]}),subTitle:n||i?(0,l.jsx)("div",{className:"text-center text-[22px]","data-testid":"download-page-sub-title",children:(0,l.jsx)(ee.vN,{keyName:"sub-title-loading"})}):(0,l.jsx)("div",{className:"text-center text-[22px]","data-testid":"download-page-sub-title",children:(0,l.jsx)(ee.vN,{keyName:"sub-title"})}),pageUrl:"/resize/download/:jobId",urlSlugVariables:{jobId:null!==(e=null===a||void 0===a?void 0:a.id)&&void 0!==e?e:""}})},ne=n(95155),re=n(87414),ie=n(51731),oe=function(e){var t=e.job,n=(0,C.TL)();return(0,p.useEffect)((function(){return(0,q.S)("event","Download Page Loaded",{event_category:"Image Resizer",event_label:"Download Page"}),function(){n((0,k.mc)())}}),[]),(0,l.jsx)(re.i,{files:ae,children:(0,l.jsx)(g,{job:t,children:(0,l.jsx)(te,{})})})},ae=["single-resizer-download","download"].concat((0,r.Z)(ne.y)),se=!0,ce=function(e){var t=e.job;return(0,l.jsx)(ie.m,{children:(0,l.jsx)(re.i,{files:ae,children:(0,l.jsx)(oe,{job:t})})})}},201:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resize/download/[job-id]",function(){return n(15230)}])}},function(e){e.O(0,[1664,7350,9367,1455,2967,1731,9386,9774,2888,179],(function(){return t=201,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[job-id]-0c6227315b4113af.js.map